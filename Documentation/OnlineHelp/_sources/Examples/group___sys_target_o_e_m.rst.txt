.. first line of composition.rst template

:orphan:

.. first line of group.rst template

.. _group___sys_target_o_e_m:

============
SysTargetOEM
============

.. contents::
    :local:
    :depth: 1



Detailed Description
--------------------

Example to handle the target identification of runtime system. NOTE: All content is typically specified in targetdefines.h an are used here as macros.

USAGE:

  - InitPowerFail() must be called out of CH_INIT3 hook

  - ExitPowerFail() must be called out of CH_EXIT3 hook

  - :ref:`CBHandlePowerFail() <group___rts_power_fail_1gad428db51f6f146dff91ec3a27f25370e>` is the callback function to handle power fail condition

**Copyright:**

\(c) 2003-2016 3S-Smart Software Solutions

Functions
---------

- RTS_UI32 :ref:`Pack <group___sys_target_o_e_m_1ga82546176a67599300a7214c9d0b3b8b1>` (RTS_UI32 ulByte0, RTS_UI32 ulByte1, RTS_UI32 ulByte2, RTS_UI32 ulByte3)

- void :ref:`Unpack <group___sys_target_o_e_m_1ga605f69051df899e83da10dc677091794>` (RTS_UI32 ulInput, RTS_UI32 * pulByte0, RTS_UI32 * pulByte1, RTS_UI32 * pulByte2, RTS_UI32 * pulByte3)

- DLL_DECL int :ref:`ComponentEntry <group___sys_target_o_e_m_1ga428e512ef9d385507218f5cb410ecf22>` (INIT_STRUCT * pInitStruct)

- IBase * :ref:`CreateInstance <group___sys_target_o_e_m_1ga9f0dd7d920825aefbaa5a8b55d7be440>` (CLASSID cid, RTS_RESULT * pResult)

- RTS_RESULT :ref:`DeleteInstance <group___sys_target_o_e_m_1ga943bdf9b0e320026633f0a53e0595660>` (IBase * pIBase)

- int :ref:`ExportFunctions <group___sys_target_o_e_m_1ga9b0700711be53a466c6c8494343a465a>` (void)

- int :ref:`ImportFunctions <group___sys_target_o_e_m_1ga87d62c8eb63af9f15a122c28448733bf>` (void)

- RTS_UI32 :ref:`CmpGetVersion <group___sys_target_o_e_m_1gacf72d3e99274b04feca13b139859c539>` (void)

- RTS_RESULT :ref:`HookFunction <group___sys_target_o_e_m_1ga0b2ad195d710768e5fa78879787cd805>` (RTS_UI32 ulHook, RTS_UINTPTR ulParam1, RTS_UINTPTR ulParam2)

- RTS_RESULT :ref:`SysTargetGetConfiguredNodeName <group___sys_target_o_e_m_1gaa8ac8ed648cbbbbd65658d28d140ae52>` (RTS_WCHAR * pwszName, RTS_SIZE * pnMaxLength)

- RTS_RESULT :ref:`SysTargetSetNodeName <group___sys_target_o_e_m_1ga25f49ebea17f5b5568187e4f3d2533e7>` (RTS_WCHAR * pwszName)

- RTS_RESULT :ref:`SysTargetGetType <group___sys_target_o_e_m_1ga62c8edb446591cb84d1f19524a700d7f>` (RTS_UI32 * pulType)

- RTS_RESULT :ref:`SysTargetGetId <group___sys_target_o_e_m_1ga282eec73f498ea412468e053171e95c8>` (RTS_UI32 * pulTargetId)

- RTS_RESULT :ref:`SysTargetGetVersion <group___sys_target_o_e_m_1ga768c19e2cd5b8425a5c870e1dab66416>` (RTS_UI32 * pulVersion)

- RTS_RESULT :ref:`SysTargetGetDeviceName <group___sys_target_o_e_m_1ga0534f05cf90b18be83949fbb022f17d1>` (RTS_WCHAR * pwszName, RTS_SIZE * pnMaxLength)

- RTS_RESULT :ref:`SysTargetGetVendorName <group___sys_target_o_e_m_1ga41bd5290d816c8a8295e8277bb71f417>` (RTS_WCHAR * pwszName, RTS_SIZE * pnMaxLength)

- RTS_RESULT :ref:`SysTargetGetOperatingSystemId <group___sys_target_o_e_m_1gab66943afa899f0361c3e3c43ec88fcf6>` (RTS_UI32 * pulOperatingSystemId)

- RTS_RESULT :ref:`SysTargetGetProcessorId <group___sys_target_o_e_m_1gaccc3344bf3cf479bbc8da8816a53436d>` (RTS_UI32 * pulProcessorId)

- RTS_RESULT :ref:`SysTargetGetDeviceMask <group___sys_target_o_e_m_1ga9a28ccfb448279d23dd8c2dcc80b6a8e>` (RTS_UI16 * pusDeviceMask)

- RTS_RESULT :ref:`SysTargetGetSerialNumber_Secure <group___sys_target_o_e_m_1ga503e51ec613c5f128a6fa17b96cbe5c1>` (char ** ppszSerialNumber, RTS_I32 * pnMaxLen)

- RTS_RESULT :ref:`SysTargetGetSignature <group___sys_target_o_e_m_1gadb98f511ce758228f99aae7693278518>` (RTS_UI32 ulChallenge, RTS_UI32 * pulSignature)

- RTS_RESULT :ref:`SysTargetCheckIdent <group___sys_target_o_e_m_1ga0a47b20982061858c1314cc617badd8f>` (SysTargetIdent * pTargetIdentReq, SysTargetIdent * pTargetIdent)

- RTS_RESULT :ref:`SysTargetGetAPI <group___sys_target_o_e_m_1gaaf8d2d45621a98a319fe15e23431f621>` (API_RESOLVE_INFO apiInfo, RTS_VOID_FCTPTR * ppfAPIFunction)

- void :ref:`systargetgetvendorname <group___sys_target_o_e_m_1ga4a02b245426ea9e1fcdd9a519e9d0359>` (systargetgetvendorname_struct * p)

- void :ref:`systargetgetversion <group___sys_target_o_e_m_1gad1767ddd61e442a199f7abe0af4b242f>` (systargetgetversion_struct * p)

- void :ref:`systargetgetnodename <group___sys_target_o_e_m_1ga97e84504d0859dc40681684e19bab474>` (systargetgetnodename_struct * p)

- void :ref:`systargetgetdevicename <group___sys_target_o_e_m_1ga8f17fc131e2ca1ef503f0184be4ec6dd>` (systargetgetdevicename_struct * p)

- void :ref:`systargetgetid <group___sys_target_o_e_m_1gaffcd48498eb128af137037e223da88db>` (systargetgetid_struct * p)

- void :ref:`systargetgetvendorname2 <group___sys_target_o_e_m_1gaee1c3bcd8ae032b7ee720768bb62a0ed>` (systargetgetvendorname2_struct * p)

- void :ref:`systargetgettype <group___sys_target_o_e_m_1ga8ff935eacaef0a9dfeb85eab50dce710>` (systargetgettype_struct * p)

- void :ref:`systargetgetnodename2 <group___sys_target_o_e_m_1gab3e31aa5c9a00f17e9869142b9d82d24>` (systargetgetnodename2_struct * p)

- void :ref:`systargetgettype2 <group___sys_target_o_e_m_1gae17e926ffcd21922387a819f1ecf886f>` (systargetgettype2_struct * p)

- void :ref:`systargetgetversion2 <group___sys_target_o_e_m_1ga13a1f4121ad54689000d049227522d8f>` (systargetgetversion2_struct * p)

- void :ref:`systargetgetdevicename2 <group___sys_target_o_e_m_1ga276542d48a5dfe8b122a9bc46bdaa76f>` (systargetgetdevicename2_struct * p)

- void :ref:`systargetgetid2 <group___sys_target_o_e_m_1ga7b6f7624f465a33fe42963cdbe6c0187>` (systargetgetid2_struct * p)

- void :ref:`systargetgetprocessorid <group___sys_target_o_e_m_1ga5c9533c902f975ea506f6bd06076e9df>` (systargetgetprocessorid_struct * p)

- void :ref:`systargetgetoperatingsystemid <group___sys_target_o_e_m_1gafcac5d0731080ba0db920451064776a3>` (systargetgetoperatingsystemid_struct * p)

- void :ref:`systargetgetserialnumber <group___sys_target_o_e_m_1gab4e405a5cb4e08e286cbba29f9b11c93>` (systargetgetserialnumber_struct * p)

Function Documentation
----------------------

.. _group___sys_target_o_e_m_1ga82546176a67599300a7214c9d0b3b8b1:

static RTS_UI32 Pack (RTS_UI32 ulByte0, RTS_UI32 ulByte1, RTS_UI32 ulByte2, RTS_UI32 ulByte3)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga605f69051df899e83da10dc677091794:

static void Unpack (RTS_UI32 ulInput, RTS_UI32 *pulByte0, RTS_UI32 *pulByte1, RTS_UI32 *pulByte2, RTS_UI32 *pulByte3)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga428e512ef9d385507218f5cb410ecf22:

DLL_DECL int ComponentEntry (INIT_STRUCT *pInitStruct)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Entry function of the component. Called at startup for each component. Used to exchange function pointers with the component manager.

**Parameters**

+---------+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pInitStruct | Pointer to structure with: pfExportFunctions OUT Pointer to function that exports component functions pfImportFunctions OUT Pointer to function that imports functions from other components pfGetVersion OUT Pointer to function to get component version pfRegisterAPI IN Pointer to component mangager function to register a api function pfGetAPI IN Pointer to component mangager function to get a api function pfCallHook IN Pointer to component mangager function to call a hook function |
+---------+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

ERR_OK if component could be initialized, else error code.

.. _group___sys_target_o_e_m_1ga9f0dd7d920825aefbaa5a8b55d7be440:

static IBase* CreateInstance (CLASSID cid, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga943bdf9b0e320026633f0a53e0595660:

static RTS_RESULT DeleteInstance (IBase *pIBase)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga9b0700711be53a466c6c8494343a465a:

static int ExportFunctions (void)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga87d62c8eb63af9f15a122c28448733bf:

static int ImportFunctions (void)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gacf72d3e99274b04feca13b139859c539:

static RTS_UI32 CmpGetVersion (void)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga0b2ad195d710768e5fa78879787cd805:

static RTS_RESULT HookFunction (RTS_UI32 ulHook, RTS_UINTPTR ulParam1, RTS_UINTPTR ulParam2)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gaa8ac8ed648cbbbbd65658d28d140ae52:

RTS_RESULT SysTargetGetConfiguredNodeName (RTS_WCHAR *pwszName, RTS_SIZE *pnMaxLength)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Get a human readable name for the target which is displyed for example in the online scan. The name can be configured by the following setting: SYSTARGETKEY_STRING_GET_NODENAME = "NodeName" See SysTargetItf.h for details.

**Parameters**

+---------+-------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pwszName    | Buffer that is filled with the name of the node. Can be NULL to get the necessary length. RANGE=[0,VALID_NAME,INVALID_NAME]                                                         |
+---------+-------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [inout] | pnMaxLength | Pointer to maximum length in unicode characters (not bytes!). Returns the number of bytes copied into the buffer including the trailing zero. RANGE=[0,VALID_LENGTH,INVALID_LENGTH] |
+---------+-------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Return values**

+---------------+----------------------------------------------+
| ERR_OK        | Name was retrieved sucessfull                |
+---------------+----------------------------------------------+
| ERR_PARAMETER | Pointer to MaxLength or Name may not be null |
+---------------+----------------------------------------------+
| ERR_FAILED    | Name could not be retrieved                  |
+---------------+----------------------------------------------+

**Returns:**

error code

.. _group___sys_target_o_e_m_1ga25f49ebea17f5b5568187e4f3d2533e7:

RTS_RESULT SysTargetSetNodeName (RTS_WCHAR *pwszName)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga62c8edb446591cb84d1f19524a700d7f:

RTS_RESULT SysTargetGetType (RTS_UI32 *pulType)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga282eec73f498ea412468e053171e95c8:

RTS_RESULT SysTargetGetId (RTS_UI32 *pulTargetId)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga768c19e2cd5b8425a5c870e1dab66416:

RTS_RESULT SysTargetGetVersion (RTS_UI32 *pulVersion)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga0534f05cf90b18be83949fbb022f17d1:

RTS_RESULT SysTargetGetDeviceName (RTS_WCHAR *pwszName, RTS_SIZE *pnMaxLength)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga41bd5290d816c8a8295e8277bb71f417:

RTS_RESULT SysTargetGetVendorName (RTS_WCHAR *pwszName, RTS_SIZE *pnMaxLength)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gab66943afa899f0361c3e3c43ec88fcf6:

RTS_RESULT SysTargetGetOperatingSystemId (RTS_UI32 *pulOperatingSystemId)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gaccc3344bf3cf479bbc8da8816a53436d:

RTS_RESULT SysTargetGetProcessorId (RTS_UI32 *pulProcessorId)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga9a28ccfb448279d23dd8c2dcc80b6a8e:

RTS_RESULT SysTargetGetDeviceMask (RTS_UI16 *pusDeviceMask)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga503e51ec613c5f128a6fa17b96cbe5c1:

RTS_RESULT SysTargetGetSerialNumber_Secure (char **ppszSerialNumber, RTS_I32 *pnMaxLen)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gadb98f511ce758228f99aae7693278518:

RTS_RESULT SysTargetGetSignature (RTS_UI32 ulChallenge, RTS_UI32 *pulSignature)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga0a47b20982061858c1314cc617badd8f:

RTS_RESULT SysTargetCheckIdent (SysTargetIdent *pTargetIdentReq, SysTargetIdent *pTargetIdent)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gaaf8d2d45621a98a319fe15e23431f621:

RTS_RESULT SysTargetGetAPI (API_RESOLVE_INFO apiInfo, RTS_VOID_FCTPTR *ppfAPIFunction)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga4a02b245426ea9e1fcdd9a519e9d0359:

void systargetgetvendorname (systargetgetvendorname_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gad1767ddd61e442a199f7abe0af4b242f:

void systargetgetversion (systargetgetversion_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga97e84504d0859dc40681684e19bab474:

void systargetgetnodename (systargetgetnodename_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga8f17fc131e2ca1ef503f0184be4ec6dd:

void systargetgetdevicename (systargetgetdevicename_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gaffcd48498eb128af137037e223da88db:

void systargetgetid (systargetgetid_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gaee1c3bcd8ae032b7ee720768bb62a0ed:

void systargetgetvendorname2 (systargetgetvendorname2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga8ff935eacaef0a9dfeb85eab50dce710:

void systargetgettype (systargetgettype_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gab3e31aa5c9a00f17e9869142b9d82d24:

void systargetgetnodename2 (systargetgetnodename2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gae17e926ffcd21922387a819f1ecf886f:

void systargetgettype2 (systargetgettype2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga13a1f4121ad54689000d049227522d8f:

void systargetgetversion2 (systargetgetversion2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga276542d48a5dfe8b122a9bc46bdaa76f:

void systargetgetdevicename2 (systargetgetdevicename2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga7b6f7624f465a33fe42963cdbe6c0187:

void systargetgetid2 (systargetgetid2_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1ga5c9533c902f975ea506f6bd06076e9df:

void systargetgetprocessorid (systargetgetprocessorid_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gafcac5d0731080ba0db920451064776a3:

void systargetgetoperatingsystemid (systargetgetoperatingsystemid_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_target_o_e_m_1gab4e405a5cb4e08e286cbba29f9b11c93:

void systargetgetserialnumber (systargetgetserialnumber_struct *p)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. last line of group.rst template
.. last line of composition.rst template



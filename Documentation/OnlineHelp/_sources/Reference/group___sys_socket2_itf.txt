.. first line of composition.rst template

.. first line of group.rst template

.. _group___sys_socket2_itf:

=============
SysSocket2Itf
=============

Interface of SysSocket. :ref:`More... <group___sys_socket2_itf-details>`

Data Structures
---------------

- struct :ref:`SysSocket_StdSockets_ <struct_sys_socket___std_sockets__>`

- struct :ref:`SysSocket_TlsSockets_ <struct_sys_socket___tls_sockets__>`

- struct :ref:`SysSock_SpecificParameter_ <union_sys_sock___specific_parameter__>`

- struct :ref:`SysSock_Parameter_ <struct_sys_sock___parameter__>`

- struct :ref:`ISysSocket2_C <struct_i_sys_socket2___c>`

Macros
------

- #define :ref:`SYSSOCK_TYPE_STD <group___sys_socket2_itf_1gad669c27d68786b9012630cd9c9f3f143>` 1

- #define :ref:`SYSSOCK_TYPE_TLS <group___sys_socket2_itf_1gab78f868fa06cc3a0503a36834001de1f>` 2

- #define :ref:`USE_SYSSOCKET2_STMT <group___sys_socket2_itf_1ga34be10c302ba546ffac7b10297f9f76c>` static PF_DELETEINSTANCE2 s_pfCMDeleteInstance2 = NULL;

- #define :ref:`INIT_SYSSOCKET2_STMT <group___sys_socket2_itf_1ga28261c5a75e6068302e1eb00170a65e8>` {s_pfCMDeleteInstance2 = ((INIT_STRUCT *)pInitStruct)->pfCMDeleteInstance2;}

- #define :ref:`ITF_SysSocket2 <group___sys_socket2_itf_1ga054485b13046e66c89ad893cf9109451>`

- #define :ref:`EXTITF_SysSocket2 <group___sys_socket2_itf_1ga8e4baf5e94ff1fdaa136cc5d35d9bfd3>`

Typedefs
--------

- typedef struct :ref:`SysSocket_StdSockets_ <struct_sys_socket___std_sockets__>` :ref:`SysSocket_StdSockets <group___sys_socket2_itf_1gae00d8366b272f09102daa4ddabd84d49>`

- typedef struct :ref:`SysSocket_TlsSockets_ <struct_sys_socket___tls_sockets__>` :ref:`SysSocket_TlsSockets <group___sys_socket2_itf_1ga580036ca1c0c4127de759152e186a10b>`

- typedef union :ref:`SysSock_SpecificParameter_ <union_sys_sock___specific_parameter__>` :ref:`SysSock_SpecificParameter <group___sys_socket2_itf_1ga3e11bdb1194593760c317087314dbbaa>`

- typedef struct :ref:`SysSock_Parameter_ <struct_sys_sock___parameter__>` :ref:`SysSock_Parameter <group___sys_socket2_itf_1ga8f8968cf87dfabec8e3839f38d79ea00>`

- typedef :ref:`ISysSocket2_C <struct_i_sys_socket2___c>` :ref:`ISysSocket2 <group___sys_socket2_itf_1ga1555bde77087ba875fdc7057549d81be>`

Functions
---------

- STATICITF_DEF RTS_RESULT :ref:`SysSock2SetOption <group___sys_socket2_itf_1ga38472523c55f1f56d91d68296884e42e>` (RTS_HANDLE hSocket, RTS_I32 iLevel, RTS_I32 iOption, char * pcOptionValue, RTS_I32 iOptionLen)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2GetOption <group___sys_socket2_itf_1gae18dabcaac2e4a7250b918e9386d592c>` (RTS_HANDLE hSocket, RTS_I32 iLevel, RTS_I32 iOption, char * pcOptionValue, RTS_I32 * piOptionLen)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Bind <group___sys_socket2_itf_1ga8aa87b505c022ffbc8f0043862cd2099>` (RTS_HANDLE hSocket, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 iSockAddrSize)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Listen <group___sys_socket2_itf_1gab3cb7e5992fedbc92132b7c4b1a4486b>` (RTS_HANDLE hSocket, RTS_I32 iMaxConnections)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Connect <group___sys_socket2_itf_1ga72aa9b90935428d26c14966f31533da6>` (RTS_HANDLE hSocket, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 iSockAddrSize)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Select <group___sys_socket2_itf_1gac230445d698ed62513424117de892be8>` (RTS_HANDLE hSocket, RTS_I32 iWidth, :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` * fdRead, :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` * fdWrite, :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` * fdExcept, :ref:`SOCKET_TIMEVAL <struct_s_o_c_k_e_t___t_i_m_e_v_a_l>` * ptvTimeout, RTS_I32 * pnReady)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Shutdown <group___sys_socket2_itf_1ga5c7ca66719638df73870c061bab629c1>` (RTS_HANDLE hSocket, RTS_I32 iHow)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2Ioctl <group___sys_socket2_itf_1ga315adc40583276b06877c244bca52ff3>` (RTS_HANDLE hSocket, RTS_I32 iCommand, RTS_I32 * piParameter)

- STATICITF_DEF RTS_BOOL :ref:`SysSock2FdIsset <group___sys_socket2_itf_1ga89c7995811c6ebdcaf019cbe475d5261>` (RTS_HANDLE hSocket, :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` * pfs)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2FdInit <group___sys_socket2_itf_1gab41f740f8899cbb3ed8df64dbe537a09>` (RTS_HANDLE hSocket, :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` * pfs)

- STATICITF_DEF RTS_SSIZE :ref:`SysSock2Recv <group___sys_socket2_itf_1gaae858d1004147505af8ee5b984ca123c>` (RTS_HANDLE hSocket, char * pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, RTS_RESULT * pResult)

- STATICITF_DEF RTS_SSIZE :ref:`SysSock2Send <group___sys_socket2_itf_1ga081d5e6cc6eecb36e5a7c1d8e0cbd10b>` (RTS_HANDLE hSocket, char * pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, RTS_RESULT * pResult)

- STATICITF_DEF RTS_SSIZE :ref:`SysSock2RecvFrom <group___sys_socket2_itf_1ga77a7edf2c3fa91634502dce369a903f1>` (RTS_HANDLE hSocket, char * pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 iSockAddrSize, RTS_RESULT * pResult)

- STATICITF_DEF RTS_SSIZE :ref:`SysSock2SendTo <group___sys_socket2_itf_1ga83b6657afebb0597e91b84b5d8fa7c36>` (RTS_HANDLE hSocket, char * pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 iSockAddrSize, RTS_RESULT * pResult)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2GetPeerName <group___sys_socket2_itf_1ga9e4f0126be5626072835b5023a6dc57e>` (RTS_HANDLE hSocket, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 * piSockAddrSize)

- STATICITF_DEF RTS_RESULT :ref:`SysSock2GetSockName <group___sys_socket2_itf_1ga963802e1cbb412eb6fbb53688b1bcd4d>` (RTS_HANDLE hSocket, :ref:`SOCKADDRESS <struct_s_o_c_k_a_d_d_r_e_s_s>` * pSockAddr, RTS_I32 * piSockAddrSize)

- STATICITF_DEF CLASSID :ref:`SysSock2GetClassId <group___sys_socket2_itf_1ga7396d82f381b7ea1d747eeba5fff366e>` (RTS_HANDLE hSocket, RTS_RESULT * pResult)

.. _group___sys_socket2_itf-details:

Detailed Description
--------------------

Interface of SysSocket.

The SysSocket interface is projected to handle access to ethernet socket layer. TCP, UDP and RAW sockets can be used.

**Copyright:**

\(c) 2003-2010 3S-Smart Software Solutions

Macro Definition Documentation
------------------------------
.. _group___sys_socket2_itf_1gad669c27d68786b9012630cd9c9f3f143:

#define SYSSOCK_TYPE_STD 1
^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1gab78f868fa06cc3a0503a36834001de1f:

#define SYSSOCK_TYPE_TLS 2
^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga34be10c302ba546ffac7b10297f9f76c:

#define USE_SYSSOCKET2_STMT static PF_DELETEINSTANCE2 s_pfCMDeleteInstance2 = NULL;
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga28261c5a75e6068302e1eb00170a65e8:

#define INIT_SYSSOCKET2_STMT {s_pfCMDeleteInstance2 = ((INIT_STRUCT *)pInitStruct)->pfCMDeleteInstance2;}
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga054485b13046e66c89ad893cf9109451:

#define ITF_SysSocket2
^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga8e4baf5e94ff1fdaa136cc5d35d9bfd3:

#define EXTITF_SysSocket2
^^^^^^^^^^^^^^^^^^^^^^^^^

Typedef Documentation
---------------------

.. _group___sys_socket2_itf_1gae00d8366b272f09102daa4ddabd84d49:

typedef struct SysSocket_StdSockets_  SysSocket_StdSockets
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga580036ca1c0c4127de759152e186a10b:

typedef struct SysSocket_TlsSockets_  SysSocket_TlsSockets
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga3e11bdb1194593760c317087314dbbaa:

typedef union SysSock_SpecificParameter_  SysSock_SpecificParameter
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga8f8968cf87dfabec8e3839f38d79ea00:

typedef struct SysSock_Parameter_  SysSock_Parameter
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _group___sys_socket2_itf_1ga1555bde77087ba875fdc7057549d81be:

typedef ISysSocket2_C ISysSocket2
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Function Documentation
----------------------

.. _group___sys_socket2_itf_1ga38472523c55f1f56d91d68296884e42e:

STATICITF_DEF RTS_RESULT SysSock2SetOption (RTS_HANDLE hSocket, RTS_I32 iLevel, RTS_I32 iOption, char *pcOptionValue, RTS_I32 iOptionLen)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Create a socket of the specified class.

**Note:**

Using the TLS socket results in an IPv4 TCP socket where the TLS protocol is used. Since additional handshaking has to be done, connection establishment takes some time longer. By default, these sockets are created asnonblocking. If a blocking behavior is needed thishas to be set explicitly. Be aware that blocking TLS sockets can lead to deadlock situations if the peer does not send TLS data. This is a potential security risk, typically for server implementations. An attacker can create a connection and then stop sending TLS data, resulting in a denial of service attack. This situation is avoided with nonblocking sockets.
To avoid this potential risk by default TLS based sockets are created as nonblockingby default. This applies to handles created by |SysSock2Create| and |SysSock2Accept|. If this has to be changed use the |SysSock2Ioctl| to setup the desired behavior.

**Parameters**

+---------+-------------+--------------------------------------------------------------+
| [in]    | hISysSocket | Pointer to IBase. Is filled by the generate create interface |
+---------+-------------+--------------------------------------------------------------+
| [in]    | ClassId     | ClassID of the SysSocket2 implementation                     |
+---------+-------------+--------------------------------------------------------------+
| [in]    | pParameter  | Class specific parameters. See SysSock_Parameter for details |
+---------+-------------+--------------------------------------------------------------+
| [out]   | pResult     | Pointer to error code                                        |
+---------+-------------+--------------------------------------------------------------+

**Returns:**

Handle to the SysSocket2Itf interface or RTS_INVALID_HANDLE if failed or ClassID not available
Close a socket specified by a SysSocket2Itf handle.

**Parameters**

+---------+---------+----------------------------------------------------------+
| [in]    | hSocket | Handle that was created via SysSockCreate2 API function! |
+---------+---------+----------------------------------------------------------+

**Returns:**

Error code
Set options of a specified socket

**Parameters**

+---------+---------------+-----------------------------+
| [in]    | hSocket       | Handle to the socket        |
+---------+---------------+-----------------------------+
| [in]    | iLevel        | Level of the socket         |
+---------+---------------+-----------------------------+
| [in]    | iOption       | Socket option command       |
+---------+---------------+-----------------------------+
| [in]    | pcOptionValue | Pointer to the option value |
+---------+---------------+-----------------------------+
| [in]    | iOptionLen    | Lenght of option value      |
+---------+---------------+-----------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1gae18dabcaac2e4a7250b918e9386d592c:

STATICITF_DEF RTS_RESULT SysSock2GetOption (RTS_HANDLE hSocket, RTS_I32 iLevel, RTS_I32 iOption, char *pcOptionValue, RTS_I32 *piOptionLen)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Get options of a specified socket

**Parameters**

+---------+---------------+-------------------------------------------------------+
| [in]    | hSocket       | Handle to the socket                                  |
+---------+---------------+-------------------------------------------------------+
| [in]    | iLevel        | Level of the socket                                   |
+---------+---------------+-------------------------------------------------------+
| [in]    | iOption       | Socket option command                                 |
+---------+---------------+-------------------------------------------------------+
| [out]   | pcOptionValue | Pointer to get the option value                       |
+---------+---------------+-------------------------------------------------------+
| [out]   | piOptionLen   | Pointer to the option length. Real length is returned |
+---------+---------------+-------------------------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga8aa87b505c022ffbc8f0043862cd2099:

STATICITF_DEF RTS_RESULT SysSock2Bind (RTS_HANDLE hSocket, SOCKADDRESS *pSockAddr, RTS_I32 iSockAddrSize)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Bind a socket to a socket address and port number

**Parameters**

+---------+---------------+--------------------------------------+
| [in]    | hSocket       | Handle to the socket                 |
+---------+---------------+--------------------------------------+
| [in]    | pSockAddr     | Spcket address                       |
+---------+---------------+--------------------------------------+
| [in]    | iSockAddrSize | Size of the socket address structure |
+---------+---------------+--------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1gab3cb7e5992fedbc92132b7c4b1a4486b:

STATICITF_DEF RTS_RESULT SysSock2Listen (RTS_HANDLE hSocket, RTS_I32 iMaxConnections)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Listen on a TCP server socket for new connection

**Parameters**

+---------+-----------------+---------------------------------------+
| [in]    | hSocket         | Handle to the socket                  |
+---------+-----------------+---------------------------------------+
| [in]    | iMaxConnections | Maximum number of connections allowed |
+---------+-----------------+---------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga72aa9b90935428d26c14966f31533da6:

STATICITF_DEF RTS_RESULT SysSock2Connect (RTS_HANDLE hSocket, SOCKADDRESS *pSockAddr, RTS_I32 iSockAddrSize)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Accept the next incoming TCP connection. Returns the socket for the newly created connection or RTS_INVALID_HANDLE if failed. Note: New client sockets of type TLS are created in nonblocking mode. Use SysSock2Ioctl to set the desired blocking mode.

**Parameters**

+---------+----------------+------------------------------------------------+
| [in]    | hSocket        | Handle to the socket                           |
+---------+----------------+------------------------------------------------+
| [out]   | pSockAddr      | Socket address of the client, who is connected |
+---------+----------------+------------------------------------------------+
| [inout] | piSockAddrSize | Pointer to socket address structure            |
+---------+----------------+------------------------------------------------+
| [out]   | pResult        | Pointer to error code                          |
+---------+----------------+------------------------------------------------+

**Returns:**

Handle to the new accepted socket
Connect as a client to a TCP server. Note: If you are connecting to a TLS server that requires SNI (Server Name Indication) use SysSock2SetOption with level SOCKET_IPPROTO_TLS and option SOCKET_SO_HOSTNAME to set the hostname.

**Parameters**

+---------+---------------+------------------------------------------------+
| [in]    | hSocket       | Handle to the socket                           |
+---------+---------------+------------------------------------------------+
| [in]    | pSockAddr     | Socket address of the client, who is connected |
+---------+---------------+------------------------------------------------+
| [in]    | iSockAddrSize | Size of socket address structure               |
+---------+---------------+------------------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1gac230445d698ed62513424117de892be8:

STATICITF_DEF RTS_RESULT SysSock2Select (RTS_HANDLE hSocket, RTS_I32 iWidth, SOCKET_FD_SET *fdRead, SOCKET_FD_SET *fdWrite, SOCKET_FD_SET *fdExcept, SOCKET_TIMEVAL *ptvTimeout, RTS_I32 *pnReady)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Check a number of sockets for activity

**Parameters**

+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iWidth     | Number of sockets in the :ref:`SOCKET_FD_SET <struct_s_o_c_k_e_t___f_d___s_e_t>` structure, so SOCKET_FD_SETSIZE must be used here.                                                               |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | fdRead     | Read socket                                                                                                                                                                                       |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | fdWrite    | Write socket                                                                                                                                                                                      |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | fdExcept   | Exception socket                                                                                                                                                                                  |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | ptvTimeout | Pointer to specify the timeout of the operation. ptvTimeout=NULL: Infinite wait ptvTimeout->tv_sec=-1, ptvTimeout->tv_usec=-1: Infinite wait ptvTimeout->tv_sec=0, ptvTimeout->tv_usec=0: No wait |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pnReady    | Number of sockets that are ready for IO                                                                                                                                                           |
+---------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

ERR_OK or ERR_SOCK_TIMEDOUT, if timeout expired

.. _group___sys_socket2_itf_1ga5c7ca66719638df73870c061bab629c1:

STATICITF_DEF RTS_RESULT SysSock2Shutdown (RTS_HANDLE hSocket, RTS_I32 iHow)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Shutdown a socket

**Parameters**

+---------+---------+-----------------------------------------------------------------------------------+
| [in]    | hSocket | Handle to the socket                                                              |
+---------+---------+-----------------------------------------------------------------------------------+
| [in]    | iHow    | Specified, which operations are no longer be allowed. See category shutdown flags |
+---------+---------+-----------------------------------------------------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga315adc40583276b06877c244bca52ff3:

STATICITF_DEF RTS_RESULT SysSock2Ioctl (RTS_HANDLE hSocket, RTS_I32 iCommand, RTS_I32 *piParameter)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Io-control of a socket

**Parameters**

+---------+-------------+--------------------------------+
| [in]    | hSocket     | Handle to the socket           |
+---------+-------------+--------------------------------+
| [in]    | iCommand    | Io-control command             |
+---------+-------------+--------------------------------+
| [inout] | piParameter | Parameter value of the command |
+---------+-------------+--------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga89c7995811c6ebdcaf019cbe475d5261:

STATICITF_DEF RTS_BOOL SysSock2FdIsset (RTS_HANDLE hSocket, SOCKET_FD_SET *pfs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Check if a socket is inside of a set.

**Parameters**

+---------+---------+--------------------------------------------------------------------------------+
| [in]    | hSocket | Socket to check. Can be RTS_INVALID_HANDLE to check for an invalid filled set. |
+---------+---------+--------------------------------------------------------------------------------+
| [in]    | pfs     | Socket Set                                                                     |
+---------+---------+--------------------------------------------------------------------------------+

**Returns:**

TRUE if the specified socket is inside the set, FALSE if not

.. _group___sys_socket2_itf_1gab41f740f8899cbb3ed8df64dbe537a09:

STATICITF_DEF RTS_RESULT SysSock2FdInit (RTS_HANDLE hSocket, SOCKET_FD_SET *pfs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Add a socket to a socket set.

**Parameters**

+---------+---------+----------------+
| [in]    | hSocket | Socket to add. |
+---------+---------+----------------+
| [in]    | pfs     | Socket Set     |
+---------+---------+----------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1gaae858d1004147505af8ee5b984ca123c:

STATICITF_DEF RTS_SSIZE SysSock2Recv (RTS_HANDLE hSocket, char *pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Receive data from a TCP socket

**Parameters**

+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | hSocket     | Handle to the socket                                                                                                                                                                                                                                                                                                                                 |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pbyBuffer   | Buffer to read data from the socket                                                                                                                                                                                                                                                                                                                  |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iBufferSize | Maximum length of the buffer                                                                                                                                                                                                                                                                                                                         |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iFlags      | The flags parameter can be used to influence the behavior of the function beyond the options specified for the associated socket. The semantics of this function are determined by the socket options and the flags parameter. The latter is constructed by using the bitwise OR operator with any of the SOCKET_MSG values. See category TCP flags. |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pResult     | Pointer to error code                                                                                                                                                                                                                                                                                                                                |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

Returns number of bytes received. 0 if failed.

.. _group___sys_socket2_itf_1ga081d5e6cc6eecb36e5a7c1d8e0cbd10b:

STATICITF_DEF RTS_SSIZE SysSock2Send (RTS_HANDLE hSocket, char *pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Sent data to a TCP socket

**Parameters**

+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | hSocket     | Handle to the socket                                                                                                                                                                                                                                                                                                         |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pbyBuffer   | Buffer with data to sent                                                                                                                                                                                                                                                                                                     |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iBufferSize | Maximum length of the buffer                                                                                                                                                                                                                                                                                                 |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iFlags      | The flags parameter can be used to influence the behavior of the function beyond the options specified for the associated socket. The semantics of this function are determined by the socket options and the flags parameter. The latter is constructed by using the bitwise OR operator with any of the SOCKET_MSG values. |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pResult     | Pointer to error code                                                                                                                                                                                                                                                                                                        |
+---------+-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

Returns number of sent bytes. 0 if failed.

.. _group___sys_socket2_itf_1ga77a7edf2c3fa91634502dce369a903f1:

STATICITF_DEF RTS_SSIZE SysSock2RecvFrom (RTS_HANDLE hSocket, char *pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, SOCKADDRESS *pSockAddr, RTS_I32 iSockAddrSize, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Receive a message from a connectionless socket (UDP)

**Parameters**

+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | hSocket       | Handle to the socket                                                                                                                                                                                                                                                                                                         |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pbyBuffer     | Buffer to read data from the socket                                                                                                                                                                                                                                                                                          |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iBufferSize   | Maximum length of the buffer                                                                                                                                                                                                                                                                                                 |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iFlags        | The flags parameter can be used to influence the behavior of the function beyond the options specified for the associated socket. The semantics of this function are determined by the socket options and the flags parameter. The latter is constructed by using the bitwise OR operator with any of the SOCKET_MSG values. |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pSockAddr     | Socket address and port to receive data from                                                                                                                                                                                                                                                                                 |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iSockAddrSize | Size of socket address structure                                                                                                                                                                                                                                                                                             |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pResult       | Pointer to error code                                                                                                                                                                                                                                                                                                        |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

Returns number of bytes received

.. _group___sys_socket2_itf_1ga83b6657afebb0597e91b84b5d8fa7c36:

STATICITF_DEF RTS_SSIZE SysSock2SendTo (RTS_HANDLE hSocket, char *pbyBuffer, RTS_SSIZE iBufferSize, RTS_I32 iFlags, SOCKADDRESS *pSockAddr, RTS_I32 iSockAddrSize, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Send a message over a connectionless socket (UDP)

**Parameters**

+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | hSocket       | Handle to the socket                                                                                                                                                                                                                                                                                                         |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pbyBuffer     | Buffer with send data                                                                                                                                                                                                                                                                                                        |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iBufferSize   | Length of data to send                                                                                                                                                                                                                                                                                                       |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iFlags        | The flags parameter can be used to influence the behavior of the function beyond the options specified for the associated socket. The semantics of this function are determined by the socket options and the flags parameter. The latter is constructed by using the bitwise OR operator with any of the SOCKET_MSG values. |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | pSockAddr     | Socket address and port to sent data to                                                                                                                                                                                                                                                                                      |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [in]    | iSockAddrSize | Size of socket address structure                                                                                                                                                                                                                                                                                             |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [out]   | pResult       | Pointer to error code                                                                                                                                                                                                                                                                                                        |
+---------+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Returns:**

Returns number of bytes received

.. _group___sys_socket2_itf_1ga9e4f0126be5626072835b5023a6dc57e:

STATICITF_DEF RTS_RESULT SysSock2GetPeerName (RTS_HANDLE hSocket, SOCKADDRESS *pSockAddr, RTS_I32 *piSockAddrSize)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Returns the socket address of the peer to which a socket is connected. The SysSockGetPeerName function can be used only on a connected socket.

**Parameters**

+---------+----------------+---------------------------------------------+
| [in]    | hSocket        | Handle to the socket                        |
+---------+----------------+---------------------------------------------+
| [out]   | pSockAddr      | Socket address of the peer                  |
+---------+----------------+---------------------------------------------+
| [inout] | piSockAddrSize | Pointer to size of socket address structure |
+---------+----------------+---------------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga963802e1cbb412eb6fbb53688b1bcd4d:

STATICITF_DEF RTS_RESULT SysSock2GetSockName (RTS_HANDLE hSocket, SOCKADDRESS *pSockAddr, RTS_I32 *piSockAddrSize)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Returns the socket address of the local socket. Usally this function is called to retrieve the local socket address on multihomed hosts or to get the local port number in client implemntations. If the socket is not locally bound to an address, the function will fail until the socket is connected.

**Parameters**

+---------+----------------+---------------------------------------------+
| [in]    | hSocket        | Handle to the socket                        |
+---------+----------------+---------------------------------------------+
| [out]   | pSockAddr      | Socket address of the local socket          |
+---------+----------------+---------------------------------------------+
| [inout] | piSockAddrSize | Pointer to size of socket address structure |
+---------+----------------+---------------------------------------------+

**Returns:**

error code

.. _group___sys_socket2_itf_1ga7396d82f381b7ea1d747eeba5fff366e:

STATICITF_DEF CLASSID SysSock2GetClassId (RTS_HANDLE hSocket, RTS_RESULT *pResult)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Returns the CLASSID of the socket implementation. Is used to detect, which kind of socket implementation is behind the socket handle.

**Parameters**

+---------+---------+-----------------------+
| [in]    | hSocket | Handle to the socket  |
+---------+---------+-----------------------+
| [out]   | pResult | Pointer to error code |
+---------+---------+-----------------------+

**Returns:**

CLASSID of the SysSocket2 implementation

.. last line of group.rst template
.. last line of composition.rst template



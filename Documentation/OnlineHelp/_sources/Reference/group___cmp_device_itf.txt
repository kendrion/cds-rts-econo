.. first line of composition.rst template

.. first line of group.rst template

.. _group___cmp_device_itf:

============
CmpDeviceItf
============

Interface of CmpDevice. :ref:`More... <group___cmp_device_itf-details>`

Modules
-------

- :ref:`Device description <group___cmp_device_itf___devicedescription>`

- :ref:`Device operation mode <group___cmp_device_itf___deviceoperationmode>`

- :ref:`Event parameter <group___cmp_device_itf___eventparameter>`

- :ref:`Events <group___cmp_device_itf___events>`

- :ref:`Interactive login commands <group___cmp_device_itf___interactivelogincommands>`

- :ref:`Interactive login mode flags <group___cmp_device_itf___interactiveloginmodeflags>`

- :ref:`Online service tags <group___cmp_device_itf___onlineservicetags>`

- :ref:`Online services <group___cmp_device_itf___onlineservices>`

- :ref:`Operations <group___cmp_device_itf___operations>`

- :ref:`Reset Origin Configuration <group___cmp_device_itf___reset_origin_configuration>`

- :ref:`Settings <group___cmp_device_itf___settings>`

- :ref:`Settings flags <group___cmp_device_itf___settingsflags>`

- :ref:`Static defines <group___cmp_device_itf___staticdefines>`

- :ref:`Target identification <group___cmp_device_itf___targetidentification>`

Data Structures
---------------

- struct :ref:`ICmpDevice_C <struct_i_cmp_device___c>`

Macros
------

- #define :ref:`ITF_CmpDevice <group___cmp_device_itf_1gac5d20fb8566ac06e86ba607e73175f34>`

- #define :ref:`EXTITF_CmpDevice <group___cmp_device_itf_1gaeea2cebbbd0315af60ed3cd8a021abdc>`

Typedefs
--------

- typedef :ref:`ICmpDevice_C <struct_i_cmp_device___c>` :ref:`ICmpDevice <group___cmp_device_itf_1gaa258f9635c2734d26d8b1401f85b40d1>`

Functions
---------

- RTS_RESULT :ref:`DevGetIdent <group___cmp_device_itf_1ga7e038012152c3ae365e69a885947f614>` (:ref:`DeviceIdentification <struct_device_identification>` * pDevIdent)

- RTS_RESULT :ref:`DevCheckTargetIdent <group___cmp_device_itf_1gaf0f698f604236df7b31a3111690d680c>` (:ref:`TargetIdent <struct_target_ident>` * pTargetIdentReq, :ref:`TargetIdent <struct_target_ident>` * pTargetIdent)

- RTS_RESULT :ref:`DevSetOperationMode <group___cmp_device_itf_1gaa0cf71c2add8bce1463fd231501212bb>` (RTS_UI32 ui32OperationMode, CMPID * pCmpIdDisabled)

- RTS_RESULT :ref:`DevGetOperationMode <group___cmp_device_itf_1ga755258387b6981d8e151b4cfe0182350>` (RTS_UI32 * pui32OperationMode)

.. _group___cmp_device_itf-details:

Detailed Description
--------------------

Interface of CmpDevice.

Interface for the device component. This is the first component, that contacts a client to get online access to the target. Here for example the target identification is checked.

**Copyright:**

Copyright (c) 2017-2018 CODESYS GmbH, Copyright (c) 1994-2016 3S-Smart Software Solutions GmbH. All rights reserved.

Macro Definition Documentation
------------------------------
.. _group___cmp_device_itf_1gac5d20fb8566ac06e86ba607e73175f34:

#define ITF_CmpDevice
^^^^^^^^^^^^^^^^^^^^^

.. _group___cmp_device_itf_1gaeea2cebbbd0315af60ed3cd8a021abdc:

#define EXTITF_CmpDevice
^^^^^^^^^^^^^^^^^^^^^^^^

Typedef Documentation
---------------------

.. _group___cmp_device_itf_1gaa258f9635c2734d26d8b1401f85b40d1:

typedef ICmpDevice_C ICmpDevice
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Function Documentation
----------------------

.. _group___cmp_device_itf_1ga7e038012152c3ae365e69a885947f614:

RTS_RESULT DevGetIdent (DeviceIdentification *pDevIdent)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Retrieves the target identification

**Parameters**

+---------+-----------+-----------------------------------------------------------------------------------------------------------------------------+
| [out]   | pDevIdent | Pointer to identification. Is filled by the function. If string pointer are NULL, the real size of the strings is returned. |
+---------+-----------+-----------------------------------------------------------------------------------------------------------------------------+

**Returns:**

error code

.. _group___cmp_device_itf_1gaf0f698f604236df7b31a3111690d680c:

RTS_RESULT DevCheckTargetIdent (TargetIdent *pTargetIdentReq, TargetIdent *pTargetIdent)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Checks the compatibility between a requested identification and the target identification

**Parameters**

+---------+-----------------+-----------------------------------------------------------------------------------+
| [in]    | pTargetIdentReq | Requested target identification to check. Must not be NULL!                       |
+---------+-----------------+-----------------------------------------------------------------------------------+
| [in]    | pTargetIdent    | Own target identity. Can be NULL, then the built in target identification is used |
+---------+-----------------+-----------------------------------------------------------------------------------+

**Returns:**

error code

**Return values**

+----------------------+--------------------------------------------+
| ERR_OK               | Target identifications matched             |
+----------------------+--------------------------------------------+
| ERR_PARAMETER        | pTargetIdentReq is NULL                    |
+----------------------+--------------------------------------------+
| ERR_TYPE_MISMATCH    | Type mismatch                              |
+----------------------+--------------------------------------------+
| ERR_ID_MISMATCH      | ID mismatch                                |
+----------------------+--------------------------------------------+
| ERR_VERSION_MISMATCH | Version mismatch. Versions not compatible! |
+----------------------+--------------------------------------------+

.. _group___cmp_device_itf_1gaa0cf71c2add8bce1463fd231501212bb:

RTS_RESULT DevSetOperationMode (RTS_UI32 ui32OperationMode, CMPID *pCmpIdDisabled)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Function to set the operation mode of the device. Usually this is called by an online service, received from the developemnt system. Switching to the new oepration mode may be denied by another component.

**Returns:**

- ERR_OK: New operation mode was successfully set

- ERR_OPERATION_DENIED: The component returned in pCmpIdDisabled has denied the new operation mode

- ERR_FAILED: Operation mode could not be set because of another error

.. _group___cmp_device_itf_1ga755258387b6981d8e151b4cfe0182350:

RTS_RESULT DevGetOperationMode (RTS_UI32 *pui32OperationMode)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Function to get the current operation mode of the device.

**Returns:**

- ERR_OK: Current operation mode was returned in pui32Operation. See category Device operation mode for possible values.

- ERR_PARAMETER: pui32Operation was a pointer to NULL.

.. last line of group.rst template
.. last line of composition.rst template




<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.3.3. Application Handling &#8212; RuntimeSystemOnlineHelp V3.5.14.0</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="RuntimeSystemOnlineHelp V3.5.14.0" href="../index.html" />
    <link rel="up" title="1.3. Overview of the Kernel Components and Main Functions" href="overview_kernel.html" />
    <link rel="next" title="1.3.4. Watchdog Handling" href="ov_kernel_watchdog_handling.html" />
    <link rel="prev" title="1.3.2. Component Manager" href="ov_kernel_component_manager.html" /> 
  </head>
  <body role="document">
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ov_kernel_watchdog_handling.html" title="1.3.4. Watchdog Handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ov_kernel_component_manager.html" title="1.3.2. Component Manager"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >1. CODESYS Control V3 - Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="overview_kernel.html" accesskey="U">1.3. Overview of the Kernel Components and Main Functions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.3.3. Application Handling</a><ul>
<li><a class="reference internal" href="#overview">1.3.3.1. Overview</a></li>
<li><a class="reference internal" href="#application-management">1.3.3.2. Application management</a></li>
<li><a class="reference internal" href="#state-behavior-start-stop-error">1.3.3.3. State behavior (Start/Stop/Error)</a></li>
<li><a class="reference internal" href="#boot-project">1.3.3.4. Boot project</a><ul>
<li><a class="reference internal" href="#create-boot-project-at-download-implicitly">1.3.3.4.1. Create boot project at download implicitly</a></li>
<li><a class="reference internal" href="#create-boot-project-after-online-change-implicitly">1.3.3.4.2. Create boot project after online change implicitly</a></li>
<li><a class="reference internal" href="#create-boot-project-on-demand">1.3.3.4.3. Create boot project on demand</a></li>
<li><a class="reference internal" href="#create-boot-project-offline">1.3.3.4.4. Create boot project offline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retain-variables">1.3.3.5. Retain variables</a><ul>
<li><a class="reference internal" href="#consistency-between-retain-data-and-iec-application">1.3.3.5.1. Consistency between Retain Data and IEC-Application</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging">1.3.3.6. Debugging</a></li>
<li><a class="reference internal" href="#download-and-online-change">1.3.3.7. Download and online change</a><ul>
<li><a class="reference internal" href="#download">1.3.3.7.1. Download</a></li>
<li><a class="reference internal" href="#online-change">1.3.3.7.2. Online Change</a></li>
<li><a class="reference internal" href="#events-related-to-application-handling">1.3.3.7.3. Events related to application handling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#system-variables-for-controlling-critical-runtime-services">1.3.3.8. System variables for controlling critical runtime services</a></li>
<li><a class="reference internal" href="#accessing-project-and-application-information">1.3.3.9. Accessing project and application information</a><ul>
<li><a class="reference internal" href="#project-information">1.3.3.9.1. Project information</a></li>
<li><a class="reference internal" href="#application-information">1.3.3.9.2. Application information</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ov_kernel_component_manager.html"
                        title="previous chapter">1.3.2. Component Manager</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ov_kernel_watchdog_handling.html"
                        title="next chapter">1.3.4. Watchdog Handling</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Manual/ov_kernel_application_handling.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="application-handling">
<span id="ov-kernel-application-handling"></span><h1>1.3.3. Application Handling<a class="headerlink" href="#application-handling" title="Permalink to this headline">¶</a></h1>
<p>The CODESYS V3 runtime system is to be able to handle several
applications. Each of these applications can be loaded and run
independently of each other.</p>
<p>Each application defines one or more tasks. The tasks are processed in
accordance with their properties (event-driven, time-driven, free
running or driven by external events).</p>
<p>The tasks should behave pre-emptively if a multitasking operating system
is available. The tasks for all applications are managed in a common
task pool.</p>
<p>The time control of these tasks can either be carried out by the
operating system or by the runtime system&#8217;s scheduler. This depends, for
instance, on whether the operating system is capable of calling tasks
cyclically with high precision.</p>
<p>Event-driven tasks should be run promptly and in direct response to the
occurrence of the trigger; it must not be necessary to poll them
cyclically. The event may be set as edge-driven or level-driven.</p>
<p>Two different basic scheduling procedures must be possible:</p>
<ul class="simple">
<li>Cyclic processing is managed by the operating system; time-slicing
for freewheeling tasks is handled by the scheduler of the runtime
system, as is the runtime monitoring task (watchdog), and possibly
also the time-slicing.</li>
<li>Cyclic processing and time-slicing are carried out by the runtime
system scheduler. A version is also to be possible here in which
only one task is active at a time (one task scheduling).</li>
</ul>
<p>It must be possible optionally to select a variety of time-slicing
procedures:</p>
<ul class="simple">
<li>External time-slicing for all tasks. Time-slicing is managed by
another task outside the runtime system.</li>
<li>Internal time-slicing: A slice for all the IEC tasks alternates with
a slice for the rest of the system. The available execution time can
in turn be assigned in time-slices to the IEC tasks.</li>
</ul>
<p>Tasks with the same priority are handled in a round robin procedure.
This means that each task gets assigned a time-slice and is activated
during that time-slice. Once the time-slice has elapsed, the next task
in the list will be activated. In this case, the length of a time-slice
is always the schedule interval.</p>
<p>Watchdog handling for cyclic tasks is carried out by the runtime system
scheduler. In this case, the watchdog time and the CPU usage of all the
IEC tasks must be taken into account. The hardware watchdog is also
managed by the scheduler.</p>
<p>The exception handling system must provide a defined response on all
exceptions that might occur (DivByZero, Access Violation, InvalidOpcode,
etc.). When an exception occurs, the PLC is halted and the call stack is
determined (including in the case of an endless loop). An entry is also
created in the logger at this point.</p>
<p>As an option, a callback can be appended in order to provide more
accurate control of the behavior (abort or continue).</p>
<div class="section" id="overview">
<h2>1.3.3.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<img alt="../_images/kernel_components_overview.png" src="../_images/kernel_components_overview.png" />
<p>Figure 1 shows the general structure of the individual units. The four
primary units of application management, task management, exception
handling and the scheduler can be seen.</p>
<p>Application management contains all the application code and the data
for all the applications, as well as the current status of each
application. Each application is uniquely identified here with a name
and an ID.</p>
<p>When an application is loaded, the application management generates the
relevant IEC tasks in the task management. All the tasks from all the
applications run there together.</p>
<p>The exception handling system is used by the task management. This has
all the information needed (task, application, task context) to
determine the call hierarchy through the exception component. The
exception component is specific to the operating system and processor.</p>
<p>The scheduler carries out time control, the optional time-slicing and
the watchdog management.</p>
<p>The advantage of this structure is its modularity. It is possible, for
instance, to introduce a new scheduling procedure by exchanging the
scheduler, without having to change the other components. This allows
different schedulers having different features to be implemented and
optionally included. This makes maintenance a good deal easier and
solves one of the biggest problems of the former monolithic scheduler.</p>
</div>
<div class="section" id="application-management">
<h2>1.3.3.2. Application management<a class="headerlink" href="#application-management" title="Permalink to this headline">¶</a></h2>
<p>The application management system handles the application services to
and from the programming system and the management data for all the
applications, together with the current state of all the applications
(Start, Stop, Reset, Exception).</p>
<p>The application component implements the application management
precisely. It also receives services that concern an application
(Login/Logout, Create/Delete, Download, Start, Stop, Reset, etc.). This
involves support for a number of applications running at the same time.
The component therefore registers a callback function with the server
for online services of the SG_APPLICATION group.</p>
<p>Each application can define one or more memory areas for user code and
user data. The content is then managed by the programming system.</p>
</div>
<div class="section" id="state-behavior-start-stop-error">
<h2>1.3.3.3. State behavior (Start/Stop/Error)<a class="headerlink" href="#state-behavior-start-stop-error" title="Permalink to this headline">¶</a></h2>
<p>The Start, Stop and Reset commands each operate on one application. A
program can be started if it has been loaded and an associated
application is present.</p>
<p>If an application has generated an exception, the application is going
into Stop state. The application can then be started directly! It must
be done a reset first!</p>
</div>
<div class="section" id="boot-project">
<h2>1.3.3.4. Boot project<a class="headerlink" href="#boot-project" title="Permalink to this headline">¶</a></h2>
<p>Once the runtime system has been initialized, an attempt is made to load
the boot project. Each application has its own boot project.</p>
<p>The format of the boot project corresponds exactly to the download
format. The same functions are therefore called to load the boot project
as to download it. The content of the download message will be written
into a file. This file is then available as boot project.</p>
<p>There are three times at which the boot project may be created:</p>
<ul class="simple">
<li>optionally immediately after download</li>
<li>while running, when requested by the user (after online change, too!)</li>
<li>Offline</li>
</ul>
<p>These three different mechanisms to create a boot project are described
below. The event indicating a successful creation is
EVT_CreateBootprojectDone.</p>
<div class="section" id="create-boot-project-at-download-implicitly">
<span id="create-bootproject-at-download"></span><h3>1.3.3.4.1. Create boot project at download implicitly<a class="headerlink" href="#create-boot-project-at-download-implicitly" title="Permalink to this headline">¶</a></h3>
<p>A boot project is automatically generated with the download of an
application.</p>
<p>The CodeGUID and DataGUID are transmitted at the beginning of the
download service. This is needed to avoid the repositioning on flash
file systems to the beginning of the file to store these GUIDs.</p>
</div>
<div class="section" id="create-boot-project-after-online-change-implicitly">
<span id="create-bootproject-after-online-change"></span><h3>1.3.3.4.2. Create boot project after online change implicitly<a class="headerlink" href="#create-boot-project-after-online-change-implicitly" title="Permalink to this headline">¶</a></h3>
<p>A boot project is automatically generated after the online change of an
application. Here only a description of the code needed for the boot
project is transferred to the target. So no complete transfer of the
code is needed.</p>
</div>
<div class="section" id="create-boot-project-on-demand">
<h3>1.3.3.4.3. Create boot project on demand<a class="headerlink" href="#create-boot-project-on-demand" title="Permalink to this headline">¶</a></h3>
<p>A boot project can be created in online mode on demand via command
&#8220;Create boot project for &lt;application&gt;&#8221;, which per default is available
in the Online menu in CODESYS.</p>
<p>Not the complete boot project is transmitted in this case, but only a
description of the used POUs of the application that is actually running
on the target!</p>
</div>
<div class="section" id="create-boot-project-offline">
<span id="create-bootproject-offline"></span><h3>1.3.3.4.4. Create boot project offline<a class="headerlink" href="#create-boot-project-offline" title="Permalink to this headline">¶</a></h3>
<p>In offline mode the same command as described in <a class="reference internal" href="#create-bootproject-after-online-change"><span class="std std-ref">_ov_kernel_application_handling</span></a>
(&#8220;Create boot project for &lt;application&gt;&#8221;) can be used to create a boot
project. The boot project can be stored as a file *.app and be loaded
via file transfer to the runtime system. The user will be asked whether
a possibly already available compile info should be overwritten. This
should be done, if the intension is to load the boot project via an
external tool to the PLC (because then no further download is
necessary), because: In this case the compile info of a previous
download would not match to the new boot project.</p>
<p>Don&#8217;t forget to add this boot project to the configuration file of the
runtime system (e.g. CODESYSControl.cfg). The following entry is needed:</p>
<div class="highlight-C"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpApp</span><span class="p">]</span>
<span class="n">Application</span><span class="p">.</span><span class="n">x</span><span class="o">=&lt;</span><span class="n">Application</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">app</span>
</pre></div>
</div>
<p>x stands here for an index, starting with 1.</p>
</div>
</div>
<div class="section" id="retain-variables">
<h2>1.3.3.5. Retain variables<a class="headerlink" href="#retain-variables" title="Permalink to this headline">¶</a></h2>
<p>Retained runtime system data (e.g. PLC variables) retain their value
even when the controller is restarted. Two different storage procedures
are distinguished here:</p>
<ol class="arabic simple">
<li>storage in static memory (e.g. SRAM)</li>
<li>storing the retain data in a non-volatile storage medium (such as
flash memory or hard disk) when the controller is shutdown. The
data is held in RAM at runtime.</li>
</ol>
<p>The latter procedure can only be used if it can be guaranteed that, when
the controller is switched off, the power supply will remain on for a
certain time in order to store the retain data (e.g. by means of a
UPS <a class="footnote-reference" href="#id2" id="id1">[1]</a> or battery).</p>
<p>The management of these storage areas for retained data is located in
the CmpRetain component.</p>
<p>This also contains the management of the static memory that assigns
individually requested areas to the retain memory (e.g. one area for a
PLC device application and an area for a PLC application).</p>
<p>Note the possibility of using SRAMemory, already mapped by another
component, for retains: By setting &#8220;Retain.SRAM.AddressMapped&#8221; in
section [CmpRetain] a retain area is set to the specified address
without mapping this area before:</p>
<p>Example:</p>
<div class="highlight-C"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpRetain</span><span class="p">]</span>
<span class="n">Retain</span><span class="p">.</span><span class="n">SRAM</span><span class="p">.</span><span class="n">AddressMapped</span><span class="o">=</span><span class="mh">0xABCD1234</span>
</pre></div>
</div>
<p>Regard in this context that the following setting must always be
specified to allow retains in SRAM:</p>
<div class="highlight-C"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpApp</span><span class="p">]</span>
<span class="n">RetainType</span><span class="p">.</span><span class="n">Applications</span><span class="o">=</span><span class="n">InSRAM</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">If you use the mechanism to store retain variables in
SRAM, you have to configure 24 bytes less memory for the application in
the target description than is physically available! These bytes are
reserved at the beginning of each retain memory segment to store the
data GUID of the corresponding application into the SRAM, in order to
check integrity after the application has been loaded! This is
necessary, because an SRAM can be moved from one controller to another
and so it must be checked if the data content matches with he assigned
application.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Regard further settings concerning retains in the device
description: <span class="xref std std-ref">RETAIN and RETAIN PERSISTENT memory</span></p>
</div>
<div class="section" id="consistency-between-retain-data-and-iec-application">
<h3>1.3.3.5.1. Consistency between Retain Data and IEC-Application<a class="headerlink" href="#consistency-between-retain-data-and-iec-application" title="Permalink to this headline">¶</a></h3>
<p>To guarantee the consistency between the Retain Data and the
IEC-Application, at the beginning of each Retain Data Segment in the
Retain Memory the runtime system stores a CRC of the layout of the
Retain Data. This CRC is generated in the programming system and is
download to the controller.</p>
<p>This CRC is calculated differentially:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><em>Before v3.5.7.0 of the runtime system:</em>
Here we store a CRC over the complete Data Area of the
Application (and not only over the Retain Data) in the Retain
Memory!</div>
<div class="line">This means:</div>
<div class="line">If you change the Data Layout (e.g. adding a variable to a GVL)
and make a Download/OnlineChange without creating a bootproject,
at the next startup of the runtime, there is a Retain Data
mismatch between the Retain Data and the Application!</div>
</div>
<p><em>With v3.5.7.0 of the runtime system and later:</em>
Here we store a CRC only over the Retain Data segment in the
Retain Memory. So we can detect a change in the Retain Data layout
and this is not influenced by a change in the Global (volatile)
Memory Area! And so a Retain mismatch should not accidentally be
detected as described above.</p>
</div></blockquote>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>UPS: Uninterruptible Power Supply</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="debugging">
<h2>1.3.3.6. Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<p>If a breakpoint is set in CODESYS, the original code at the breakpoint
position will be stored and a jump will be patched at this position on
over this code. This has some advantages:</p>
<ul class="simple">
<li>no context switch necessary like on interrupt breakpoints</li>
<li>no interrupt handling necessary, so it is more easy</li>
<li>can be implemented on every controller</li>
</ul>
<p>To step over a breakpoint the original code is restored before the step
and then the original code is executed until the next breakpoint was
reached.</p>
<p>In CODESYS V3 conditional breakpoints can be set, e.g. to specify the
number of hit counts until the breakpoint is reached.</p>
</div>
<div class="section" id="download-and-online-change">
<h2>1.3.3.7. Download and online change<a class="headerlink" href="#download-and-online-change" title="Permalink to this headline">¶</a></h2>
<p>Downloading an application overwrites the application with the same name
on the runtime system.</p>
<p>At Online Change, only the changed program units will be downloaded to
the runtime system. These changed POUs will be downloaded in the same
code area as the remaining POUs, so no special reorganization is
necessary with copying remaining POUs from the old to the new buffer.</p>
<p>After that the copy code will be executed and the new code will be
integrated in the still running application without stopping.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">If you do many Online Changes with increasing POUs, a
fragmentation of the code area can occur, so that an Online Change is
not possible anymore! In this case only a reboot solves this problem or
a full download with a cleaned up application!</p>
</div>
<div class="section" id="download">
<h3>1.3.3.7.1. Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h3>
<p>The following steps are processed during an application download:</p>
<ol class="arabic simple">
<li>Check whether an application with the same name is already running on
the controller:<ol class="loweralpha">
<li>If an application with the same name already exists:<ul>
<li>IEC tasks are stopped and deleted</li>
<li>Breakpoints and force lists are released</li>
<li>Memory areas are <em>not</em> released!</li>
<li>Then it will be replaced by the new application</li>
<li>Memory areas of the new application are checked, if they are
changed in type or if they have a greater size. In one of these
cases, the affected memory area is released and a new memory
area with the appropriate size and type is allocated!</li>
</ul>
</li>
<li>If an application with the same name does _<strong>not_</strong> exist:<ul>
<li>The new application object will be created</li>
<li>All memory areas of the new application are allocated</li>
</ul>
</li>
</ol>
</li>
<li>New application is initialized and IEC tasks are created</li>
</ol>
<p>Available download events:</p>
<ul class="simple">
<li>EVT_PrepareDownload</li>
<li>EVT_DownloadDone</li>
</ul>
</div>
<div class="section" id="online-change">
<h3>1.3.3.7.2. Online Change<a class="headerlink" href="#online-change" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Modified POUs will be transferred to the controller.</li>
<li>Blanking interval is searched (Time at which no IEC tasks are active
any longer).</li>
<li>Within the blanking interval the CopyCode gets executed and the
modified code gets activated.</li>
<li>POUs which are no longer used or which are obsolete or removed will
be marked in the area as &#8220;deleted&#8221;, but will leave gaps. These
gaps will be used by the next online change, but a segment
fragmentation might result.</li>
</ol>
<p>Available online change events:</p>
<ul class="simple">
<li>EVT_PrepareOnlineChange</li>
<li>EVT_OnlineChangeDone</li>
</ul>
</div>
<div class="section" id="events-related-to-application-handling">
<h3>1.3.3.7.3. Events related to application handling<a class="headerlink" href="#events-related-to-application-handling" title="Permalink to this headline">¶</a></h3>
<p>The events listed are members of the event class EVTCLASS_INFO that is
represented by the high word of the event Id.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="64%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Event</th>
<th class="head">Description</th>
<th class="head">Event Id</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>EVT_PrepareOnlineChange</td>
<td>Sent before the online change of the specified application will be executed</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>EVT_OnlineChangeDone</td>
<td>Sent after an online change of the specified application has been executed</td>
<td>8</td>
</tr>
<tr class="row-even"><td>EVT_PrepareDownload</td>
<td>Sent before the specified application will be downloaded</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>EVT_DownloadDone</td>
<td>Sent after the specified application has been downloaded</td>
<td>10</td>
</tr>
<tr class="row-even"><td>EVT_CreateBootprojectDone</td>
<td>Sent after a boot project of an application has been created successfully</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>EVT_LoadBootprojectDone</td>
<td>Sent after a boot project of an application has been loaded successfully</td>
<td>17</td>
</tr>
<tr class="row-even"><td>EVT_DenyLoadBootproject</td>
<td>Sent to deny the loading of a boot project of an application.</td>
<td>18</td>
</tr>
<tr class="row-odd"><td>EVT_PrepareLoadBootproject</td>
<td>Sent before a boot project of an application will be loaded</td>
<td>19</td>
</tr>
<tr class="row-even"><td>EVT_DenyStartBootproject</td>
<td>Sent to deny the starting of a boot project of an application</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>EVT_PrepareStartBootproject</td>
<td>Sent before a boot project of an application will be started</td>
<td>21</td>
</tr>
<tr class="row-even"><td>EVT_StartBootprojectDone</td>
<td>Sent after a boot project of an application has been started</td>
<td>22</td>
</tr>
<tr class="row-odd"><td>EVT_DenyStart</td>
<td>Sent to deny the starting of an application</td>
<td>23</td>
</tr>
<tr class="row-even"><td>EVT_DenyStop</td>
<td>Sent to deny the stopping of an application</td>
<td>24</td>
</tr>
<tr class="row-odd"><td>EVT_AllBootprojectsLoaded</td>
<td>Sent after all boot projects have been loaded</td>
<td>25</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="system-variables-for-controlling-critical-runtime-services">
<h2>1.3.3.8. System variables for controlling critical runtime services<a class="headerlink" href="#system-variables-for-controlling-critical-runtime-services" title="Permalink to this headline">¶</a></h2>
<p>Certain commands from the programming system concerning application
services on the RTS might be dangerous in a critical condition of the
machine (e.g. stop application, set a breakpoint, online change or
reset). They can be disabled/enabled by using the following system
variables in the application program; they are properties of the
&#8220;PlcOperationControl&#8221; module (component manager.library):</p>
<ul class="simple">
<li>xDisableApplicationOnlineChange</li>
<li>xDisableApplicationDownload</li>
<li>xDisableApplicationStop</li>
<li>xDisableApplicationBP</li>
<li>xDisableApplicationWrite (disabled via PLCHandler/IecVarAccess too!)</li>
<li>xDisableApplicationForce</li>
<li>xDisableApplicationReset</li>
<li>xDisableAll</li>
</ul>
<p>By default these variables are FALSE. By setting them to TRUE the
corresponding runtime service gets disabled. This means it will be
rejected and a message box will inform the user correspondingly.</p>
<p>Example:</p>
<div class="highlight-C"><div class="highlight"><pre><span></span><span class="n">PlcOperationControlInstance</span><span class="p">.</span><span class="nl">xDIsableApplicationStop</span> <span class="p">:</span><span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span> <span class="c1">//disables stopping the application</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The use of these variables might be completely suppressed by
the following entry in the RTS cfg-file:</p>
<div class="last highlight-C"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ComponentManager</span><span class="p">]</span>
<span class="n">DisablingOperations</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="accessing-project-and-application-information">
<h2>1.3.3.9. Accessing project and application information<a class="headerlink" href="#accessing-project-and-application-information" title="Permalink to this headline">¶</a></h2>
<p>In CODESYS it is possible to specify information about a project and its
applications. These entries can be accessed in the runtime system.</p>
<div class="section" id="project-information">
<h3>1.3.3.9.1. Project information<a class="headerlink" href="#project-information" title="Permalink to this headline">¶</a></h3>
<p>In the project information dialog, you can specify the following
entries:</p>
<ul class="simple">
<li>Company</li>
<li>Title</li>
<li>Version</li>
<li>Author</li>
<li>Description</li>
</ul>
<p>These information can be extended by own entries of the type, text,
number, bool and version. To make these information available in the
runtime system, in the dialog there is a check box &#8220;Automatically
generate POUs for property access&#8221;. If you enable this check box, a set
of access functions is generated in the POU pool, so you can access this
information out of the plc program.</p>
<p>Additionally, these access functions are available in the runtime system
at the next download. In the runtime system you can use the API function
AppGetProjectInformation() to get default information. To use the
extended information, you can use the property access functions
AppGetBooleanProperty, AppGetTextProperty, AppGetNumberProperty or
AppGetVersionProperty (see [1] for details).</p>
</div>
<div class="section" id="application-information">
<h3>1.3.3.9.2. Application information<a class="headerlink" href="#application-information" title="Permalink to this headline">¶</a></h3>
<p>The information about an application can be specified in the property
page of an application. Here the following entries are possible:</p>
<ul class="simple">
<li>Project name</li>
<li>Author</li>
<li>Version</li>
<li>Description</li>
<li>Used CODESYS Profile</li>
<li>Date of last change</li>
</ul>
<p>The entries are not extendable by the user. This information will always
be downloaded to the runtime system. In the runtime system you can
access this information be the API function AppGetApplicationInfo().</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ov_kernel_watchdog_handling.html" title="1.3.4. Watchdog Handling"
             >next</a> |</li>
        <li class="right" >
          <a href="ov_kernel_component_manager.html" title="1.3.2. Component Manager"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >1. CODESYS Control V3 - Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="overview_kernel.html" >1.3. Overview of the Kernel Components and Main Functions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, 3S-Smart Software Solutions GmbH.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>
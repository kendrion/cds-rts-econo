

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>5.3.8. Configuration (Settings) &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/theme.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.3.9. Logging" href="ov_kernel_logging.html" />
    <link rel="prev" title="5.3.7. Task management" href="ov_kernel_task_mgmt.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ov_kernel_logging.html" title="5.3.9. Logging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ov_kernel_task_mgmt.html" title="5.3.7. Task management"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Architecture Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="overview_kernel.html" accesskey="U">5.3. Overview of the Kernel Components and Main Functions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="ov_kernel_task_mgmt.html"
                        title="previous chapter">5.3.7. Task management</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ov_kernel_logging.html"
                        title="next chapter">5.3.9. Logging</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuration-settings">
<span id="ov-kernel-configuration"></span><h1>5.3.8. Configuration (Settings)<a class="headerlink" href="#configuration-settings" title="Permalink to this headline">¶</a></h1>
<p>The configuration of the runtime system is done in the CmpSettings
component. The settings component has the possibility to use different
back ends. Actually available are the embedded backend and ini-file
backend.</p>
<div class="section" id="ini-file-backend">
<h2>5.3.8.1. INI file backend<a class="headerlink" href="#ini-file-backend" title="Permalink to this headline">¶</a></h2>
<p>The INI file backend operates on one or several INI files (examples:
CODESYSControl.cfg, Gateway.cfg). Each component has one section in the
INI file to specify configuration settings. See also: <a class="reference internal" href="customer_versions.html#customer-versions"><span class="std std-ref">Versions</span></a></p>
<p>The configuration file(s) to be regarded must be specified when starting
the runtime system.</p>
<p>Example:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpApp</span><span class="p">]</span>
<span class="n">Bootproject</span><span class="p">.</span><span class="n">StoreOnlyOnDownload</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
<p>During runtime, the names of the boot projects are written to the
runtime configuration file. Due to this writing process the
configuration file eventually may get damaged. Unfortunately, a corrupt
configuration file will preclude the runtime system from being started,
even not for communication purposes. This undesirable situation can be
circumvented by employing one of the following procedures:</p>
<p>By CMPSETTINGS_MASTER_CONFIG the name of a master configuration file
can be defined, which will be copied and used in case of failure of the
standard configuration file.</p>
<p>The standard configuration file is set to read-only. In return, it has
to contain a link to an additional cfg-file, the names of the boot
projects can be written to.</p>
<p>The following steps have to be executed for specifying references to
additional cfg-files:</p>
<ol class="arabic simple">
<li><p>Add the following entry to the file CODESYSControl.cfg of the SP runtime:</p></li>
</ol>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span>[CmpSettings]
FileReference.0=ExtConfig0.cfg
FileReference.1=ExtConfig1.cfg
…
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Delete the complete section entitled [CmpApp] from CODESYSControl.cfg.</p></li>
<li><dl class="simple">
<dt>Create the files referenced by the master configuration file</dt><dd><p>(ExtConfigx.cfg) within the same directory.</p>
</dd>
</dl>
</li>
<li><p>Set CODESYSControl.cfg to read-only.</p></li>
<li><p>Start the runtime system.</p></li>
</ol>
<p>In consequence, the master configuration file will be write-protected
and new entries will be written to the first file referenced that has no
write protection.</p>
</div>
<div class="section" id="embedded-backend">
<h2>5.3.8.2. Embedded Backend<a class="headerlink" href="#embedded-backend" title="Permalink to this headline">¶</a></h2>
<p>The Embedded backend has no file access. Here all settings are returned
“hard coded” in the corresponding c-file CmpSettingsBackendEmbedded.c.
This is typically used on small systems with no file system.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ov_kernel_logging.html" title="5.3.9. Logging"
             >next</a> |</li>
        <li class="right" >
          <a href="ov_kernel_task_mgmt.html" title="5.3.7. Task management"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Architecture Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="overview_kernel.html" >5.3. Overview of the Kernel Components and Main Functions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>
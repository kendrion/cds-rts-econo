

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Jitter of IEC Tasks &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/theme.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="jitter-of-iec-tasks">
<span id="ov-kernel-iec-task-jitter"></span><h1>Jitter of IEC Tasks<a class="headerlink" href="#jitter-of-iec-tasks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="definition-of-terms">
<h2>Definition of Terms<a class="headerlink" href="#definition-of-terms" title="Permalink to this headline">¶</a></h2>
<p><strong>Latency</strong> is the delay between the invocation of a task and the actual start of its execution (release).</p>
<p><strong>The release jitter</strong> is quantified by the difference between the maximum and minimum latency for all task calls.</p>
<p>J_r is defined as L_max – L_min.</p>
<p>In the case that L_max = L_min, the release jitter J_r of 0 results. This would correspond to a plain offset shift.</p>
<p><strong>Periodic jitter</strong>: J_per = T_per - T0</p>
<p>In this case, T_per is the period duration of the task and T0 is the ideal period duration.</p>
<p>Period jitter is the deviation of the cycle time of a task from the ideal period over a number of randomly selected cycles. When we are given a number of individual task periods, we can measure each one and calculate the average task period as well as the standard deviation and peak-to-peak value.</p>
<p>Positive and negative values can occur in the case of the periodic jitter J_per. To prevent drift, the sum of all negative J_per values and the sum of all positive J_per values have to balance each other.</p>
<p><strong>Jitter based on the deviation of the actual from the scheduled task start time</strong></p>
<p>J_err_t = t_r – t_r_planned</p>
<p>In this case, t_r is the task release time and t_r_planned is the planned task start time.</p>
<p>The planned task start time t_r_planned corresponds to the time of invocation plus the expected ideal (jitter-free) latency.</p>
<p>J_err_t is the deviation of the task start time from the scheduled task start time.</p>
<p>Positive and negative values can occur in the case of  J_err_t.</p>
<p><strong>Jitter based on the deviation of the current task start time from the target task start time based on the task start time with the maximum negative periodic jitter</strong></p>
<p>As soon as a negative periodic jitter occurs, its task start time is used as the basis (= reference value) for all future target task start times. Until a negative periodic jitter occurs again, its task start time replaces the previous reference value. (As long as no negative periodic jitter has occurred, the first task start time is the reference value.)</p>
<p>J_t_r_min = t_r - (t_r_min + n ⋅ T0)</p>
<p>In this case, t_r is the current release time of the task, t_r_min is the task start time with the maximum negative periodic jitter, n ⋅ T0 is a multiple of the ideal period duration, and n is the number of cycles that have elapsed since setting the reference value t_r_min.</p>
<p>J_t_r_min is the deviation of the actual task start time from the target task start time based on the task start time with the maximum negative periodic jitter.</p>
<p>For J_t_r_min, negative values are the exception.</p>
</div>
<div class="section" id="diagnostics">
<h2>Diagnostics<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iec-task-jitter-system-trace">
<h3>IEC Task Jitter System Trace<a class="headerlink" href="#iec-task-jitter-system-trace" title="Permalink to this headline">¶</a></h3>
<p>If the SysCpuMultiCore and CmpTraceMgr components are integrated in the runtime system, there will be created a system trace (= device trace), which can be upload in CODESYS to see the IEC task jitter as a trace.</p>
<p>To enable this, you have to add the following setting into your runtime configuration file (.cfg file):</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpIecTask</span><span class="p">]</span>
<span class="n">EnableTaskTrace</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div></blockquote>
<p>To see the trace, you have to add a trace object under your device in CODESYS and with the command “upload” you can upload and start the trace with the name “IecTaskJitter.&lt;AppName&gt;.&lt;TaskName&gt;”.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>
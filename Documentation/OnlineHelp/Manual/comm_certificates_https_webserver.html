

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>5.5.13. Handling of certificates for HTTPS support of the webserver &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/theme.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.6. Security" href="security.html" />
    <link rel="prev" title="5.5.12. Client API Interfaces" href="comm_client_api_interfaces.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="security.html" title="5.6. Security"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="comm_client_api_interfaces.html" title="5.5.12. Client API Interfaces"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Architecture Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="communication.html" accesskey="U">5.5. Communication</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="comm_client_api_interfaces.html"
                        title="previous chapter">5.5.12. Client API Interfaces</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="security.html"
                        title="next chapter">5.6. Security</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="handling-of-certificates-for-https-support-of-the-webserver">
<span id="comm-certificates-https-webserver"></span><h1>5.5.13. Handling of certificates for HTTPS support of the webserver<a class="headerlink" href="#handling-of-certificates-for-https-support-of-the-webserver" title="Permalink to this headline">¶</a></h1>
<p>To support HTTPS within the integrated webserver digital certificates
(see: <a class="reference external" href="http://en.wikipedia.org/wiki/Public_key_certificate">http://en.wikipedia.org/wiki/Public_key_certificate</a>) have to be
managed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following chapters on this page are only necessary, if the certificate management and the official <a class="reference internal" href="../Features/Visualization_Web_HTTPS.html#https-support-for-the-web-visualization"><span class="std std-ref">https</span></a> feature is not available!</p>
</div>
<div class="section" id="folder-structure-of-the-public-key-infrastructure">
<h2>5.5.13.1. Folder structure of the public key infrastructure<a class="headerlink" href="#folder-structure-of-the-public-key-infrastructure" title="Permalink to this headline">¶</a></h2>
<p>The folder structure of the certificate management has to be located in
the working path of the PLC.</p>
<ul class="simple">
<li><p>PKI: This folder is the root of the public key infrastructure. The
default location is ./PKI within the PLC working directory. You may
change the setting “CertStoreBase” to change the base path of this
certificate store.</p></li>
<li><p>PKI/cert: This folder contains the digital certificates dedicated to
a PLC. The certificates inside of this folder identify the PLC.</p></li>
<li><p>PKI/private: This folder contains the private keys corresponding to
the certificates in the PKI/cert folder.</p></li>
<li><p>PKI/crl: This folder is used to store certificate revocation lists
(CRL) provided by a certificate authority.</p></li>
<li><p>PKI/trusted: This folder contains certificates of trusted CAs or
other trusted instances.</p></li>
</ul>
<p>There are some different encodings for private keys and certificates.
Supported encodings are BASE64 and DER encoding. The component will
automatically use the right file type.</p>
</div>
<div class="section" id="transferring-the-certificates-and-private-keys-to-the-plc">
<h2>5.5.13.2. Transferring the certificates and private keys to the PLC<a class="headerlink" href="#transferring-the-certificates-and-private-keys-to-the-plc" title="Permalink to this headline">¶</a></h2>
<p>To transfer the certificate and private keys to the PLC the file
transfer functionality of CODESYS is used. You have to copy the
certificate and private key to the folders described in the previous
section.</p>
<p>Warning: This file transfer has to be done in a secure environment. You
may not transfer the certificates and private keys over a public network
since these data will not be encrypted or protected with any other
technique. Transfer these data with a direct and exclusive connection
between the PLC and your computer. You should also take care of the
access rights to this folder. Only a small group of people should have
access to these data. Throughout IEC there is a potentially access to
the certificates an private keys. This depends on your configuration.</p>
</div>
<div class="section" id="configuration-for-the-certificates-for-different-use-cases">
<h2>5.5.13.3. Configuration for the certificates for different use cases<a class="headerlink" href="#configuration-for-the-certificates-for-different-use-cases" title="Permalink to this headline">¶</a></h2>
<p>The configuration and selection of certificates for different use cases
is done using the CODESYS config file. Refer to the reference
documentation within the CmpTLS interface section for a description of
the available settings.</p>
<p>A TLS context is used to set some settings for one use case. This use
case may be the webserver. With the context the TLS version,
certificates and the other settings described in the reference
documentation are set. You need different contexts for different use
cases. To separate the different contexts a namespace prefix is used in
front of the settings. The settings Cert and PrivateKey are mandatory
for generating a new context. The prefix of the settings is the
pszNamespace parameter of the function TlsCreateContext.</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CmpOpenSSL</span><span class="p">]</span>
<span class="n">WebServer</span><span class="p">.</span><span class="n">Cert</span><span class="o">=</span><span class="n">server</span><span class="p">.</span><span class="n">cer</span>
<span class="n">WebServer</span><span class="p">.</span><span class="n">PrivateKey</span><span class="o">=</span><span class="n">server</span><span class="p">.</span><span class="n">key</span>
<span class="p">.</span> <span class="p">.</span> <span class="p">.</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="security.html" title="5.6. Security"
             >next</a> |</li>
        <li class="right" >
          <a href="comm_client_api_interfaces.html" title="5.5.12. Client API Interfaces"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Architecture Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="communication.html" >5.5. Communication</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>
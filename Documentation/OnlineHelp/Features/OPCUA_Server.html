

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>OPC UA Server &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/theme.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OPC UA Client" href="OPCUA_Client.html" />
    <link rel="prev" title="7.2.2.7. OPC UA" href="OPCUA.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="OPCUA_Client.html" title="OPC UA Client"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="OPCUA.html" title="7.2.2.7. OPC UA"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >7. Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >7.2. Features</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index___p_l_c___features.html" >7.2.2. PLC Features</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="OPCUA.html" accesskey="U">7.2.2.7. OPC UA</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="OPCUA.html"
                        title="previous chapter">7.2.2.7. OPC UA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="OPCUA_Client.html"
                        title="next chapter">OPC UA Client</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="opc-ua-server">
<span id="feature-opcua-server"></span><span id="feature-o-p-c-u-a-server"></span><h1>OPC UA Server<a class="headerlink" href="#opc-ua-server" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#supported-features" id="id2">Supported features</a></p></li>
<li><p><a class="reference internal" href="#provider-interface" id="id3">Provider Interface</a></p></li>
<li><p><a class="reference internal" href="#server-interface" id="id4">Server Interface</a></p></li>
<li><p><a class="reference internal" href="#platforms" id="id5">Platforms</a></p></li>
<li><p><a class="reference internal" href="#ressources" id="id6">Ressources</a></p></li>
<li><p><a class="reference internal" href="#configuration-file" id="id7">Configuration File</a></p></li>
<li><p><a class="reference internal" href="#security" id="id8">Security</a></p></li>
<li><p><a class="reference internal" href="#required-features" id="id9">Required features</a></p></li>
<li><p><a class="reference internal" href="#required-target-settings" id="id10">Required target settings</a></p></li>
<li><p><a class="reference internal" href="#required-components" id="id11">Required components</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The OPC UA Server exposes variables configured in the symbolic configuration
of the CODESYS project to the OPC UA address space. Clients can read, write
and monitor the values of the PLC.
To enable the OPC UA support in the CODESYS IDE the option “Support OPC UA Features”
must be set in the Symbolconfiguration.</p>
<p>Currently the OPC UA server supports the “Micro Embedded Device Server Profile”.
This server profile allows reading, writing, and subscribing of items. Security features
such as encrypted communication and user management are currently not supported.</p>
<p>OPC UA allows defining different data types. The combination of customer
defined data types, object types and reference types allows defining your own
information model. An information model describes how the data should be
exposed to the address space. By now only the basic information model is
provided. The PLCopen information model is planned for one of the
next service packs. It is possible to add an own information model to the
OPC UA Server. To extend the OPC UA server with your specific information
model and your specific data it is required to implement the Provider
interface which is described in the next chapter.</p>
</div>
<div class="section" id="supported-features">
<h2><a class="toc-backref" href="#id2">Supported features</a><a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="supported-profiles">
<h3>Supported profiles<a class="headerlink" href="#supported-profiles" title="Permalink to this headline">¶</a></h3>
<p>The OPC UA server provides currently the “Micro Embedded Device Server” profile (see <a class="reference external" href="https://apps.opcfoundation.org/profilereporting">https://apps.opcfoundation.org/profilereporting</a>).</p>
</div>
<div class="section" id="supported-facets">
<h3>Supported facets<a class="headerlink" href="#supported-facets" title="Permalink to this headline">¶</a></h3>
<p>Additional supported facets, which are not covered by the “Micro Embedded Device Server” profile:</p>
<ol class="arabic simple">
<li><p>Standard Event Subscription Server</p></li>
<li><p>SecurityPolicy [B] – Basic256Sha256</p></li>
</ol>
</div>
</div>
<div class="section" id="provider-interface">
<h2><a class="toc-backref" href="#id3">Provider Interface</a><a class="headerlink" href="#provider-interface" title="Permalink to this headline">¶</a></h2>
<p>The provider interface is used to add nodes to the address space of the
OPC UA server. The server itself doesn’t provide any nodes. The basic nodes
are already defined in an own provider. The server itself does as much
preprocessing as possible to identify errors in the requests of the client.
After these checks have been done the server calls all registered providers
to get the data to be sent to the client.</p>
<p>The subscriptions work slightly different. The server does the complete
handling of the subscriptions and monitored items. The provider is only
responsible to sample the item if the sampling interval exceeds. All
additional processing (filtering, buffering, publishing) is done by the server.</p>
<p>A detailed  description of the provider interface can be found in the
corresponding header file (see: OpcUaProvider.h). As a short overview these
are the functions of the provider interface:</p>
<ul class="simple">
<li><p>Initialization and clean up</p></li>
<li><p>CreateMonitoredItem</p></li>
<li><p>SampleMonitoredItem</p></li>
<li><p>DeleteMonitoredItem</p></li>
<li><p>Read</p></li>
<li><p>Write</p></li>
<li><p>Browse</p></li>
</ul>
</div>
<div class="section" id="server-interface">
<h2><a class="toc-backref" href="#id4">Server Interface</a><a class="headerlink" href="#server-interface" title="Permalink to this headline">¶</a></h2>
<p>A server interface is provided for interactions with the OPC UA server. This interface allows the following
operations:</p>
<ul class="simple">
<li><p>Get the index of the given namespace</p></li>
<li><p>Register a new namespace to the server</p></li>
<li><p>Load an information model out of a XML file. The XML file has to follow the</p></li>
</ul>
<p>OPC UA UANodeset.xsd schema. The schema can be found at: <a class="reference external" href="http://www.opcfoundation.org/UA/schemas/1.02/UANodeSet.xsd">http://www.opcfoundation.org/UA/schemas/1.02/UANodeSet.xsd</a></p>
</div>
<div class="section" id="platforms">
<h2><a class="toc-backref" href="#id5">Platforms</a><a class="headerlink" href="#platforms" title="Permalink to this headline">¶</a></h2>
<p>The OPC UA server works on all platforms matching the minimum requirements.
The runtime system must include all required components. Because OPC UA
moves a lot of logic of the client into the server platforms the OPC UA server
may cause a high CPU load. Devices with slow processors aren’t able to run
the OPC UA server. The RAM footprint of a runtime with OPC UA is nearly doubled.</p>
</div>
<div class="section" id="ressources">
<h2><a class="toc-backref" href="#id6">Ressources</a><a class="headerlink" href="#ressources" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Platform</p></th>
<th class="head"><p>ROM (kB)</p></th>
<th class="head"><p>RAM idle</p></th>
<th class="head"><p>RAM (1000 monitored items)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Control Win V3</p></td>
<td><p>~450</p></td>
<td><p>~250kB</p></td>
<td><p>~1MB</p></td>
</tr>
<tr class="row-odd"><td><p>Raspserry Pi</p></td>
<td><p>~900</p></td>
<td><p>~1084</p></td>
<td><p>~1MB</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration-file">
<h2><a class="toc-backref" href="#id7">Configuration File</a><a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h2>
<p>To configure the behaviour of the OPC UA server there are some entries in
the CODESYSControl configuration file. For details see the CmpOPCUAServer
interface description (see <a class="reference internal" href="../Reference/group___cmp_o_p_c_u_a_server_itf.html#group-cmp-o-p-c-u-a-server-itf"><span class="std std-ref">CmpOPCUAServerItf</span></a>).</p>
</div>
<div class="section" id="security">
<h2><a class="toc-backref" href="#id8">Security</a><a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<p>The availble security features of the OPC UA server are documented in <a class="reference internal" href="OPCUA_Server_Security.html#feature-opcua-server-security"><span class="std std-ref">OPC UA Server security features</span></a>.</p>
</div>
<div class="section" id="required-features">
<h2><a class="toc-backref" href="#id9">Required features</a><a class="headerlink" href="#required-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="OPCUA.html#feature-o-p-c-u-a"><span class="std std-ref">OPC UA</span></a></p></li>
<li><p><a class="reference internal" href="Runtime.html#feature-runtime"><span class="std std-ref">Base runtime feature</span></a></p></li>
<li><p><a class="reference internal" href="IecVarAccess.html#feature-iec-var-access"><span class="std std-ref">IecVarAccess</span></a></p></li>
</ul>
</div>
<div class="section" id="required-target-settings">
<h2><a class="toc-backref" href="#id10">Required target settings</a><a class="headerlink" href="#required-target-settings" title="Permalink to this headline">¶</a></h2>
<p>The following target settings are necessary for this feature:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../TargetSettings/symbolconfiguration/s-include_opcua_information.html#symbolconfiguration-include-opcua-information"><span class="std std-ref">include_opcua_information</span></a></p></li>
<li><p><span class="xref std std-ref">Components_CmpOPCUAServer_SourceDir</span></p></li>
<li><p><span class="xref std std-ref">Components_CmpOPCUAProviderIecVarAccess_SourceDir</span></p></li>
</ul>
</div>
<div class="section" id="required-components">
<h2><a class="toc-backref" href="#id11">Required components</a><a class="headerlink" href="#required-components" title="Permalink to this headline">¶</a></h2>
<p>The following runtime system components are necessary for this feature:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../Reference/group___cmp_o_p_c_u_a_server_dep.html#group-cmp-o-p-c-u-a-server-dep"><span class="std std-ref">CmpOPCUAServer</span></a></p></li>
<li><p><a class="reference internal" href="../Reference/group___cmp_o_p_c_u_a_provider_iec_var_access_dep.html#group-cmp-o-p-c-u-a-provider-iec-var-access-dep"><span class="std std-ref">CmpOPCUAProviderIecVarAccess</span></a></p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="OPCUA_Client.html" title="OPC UA Client"
             >next</a> |</li>
        <li class="right" >
          <a href="OPCUA.html" title="7.2.2.7. OPC UA"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >7. Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >7.2. Features</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index___p_l_c___features.html" >7.2.2. PLC Features</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="OPCUA.html" >7.2.2.7. OPC UA</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>
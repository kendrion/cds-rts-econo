
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.9. OPC UA &#8212; RuntimeSystemOnlineHelp V3.5.14.0</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="RuntimeSystemOnlineHelp V3.5.14.0" href="../index.html" />
    <link rel="up" title="3. Features" href="index.html" />
    <link rel="next" title="3.10. Operation Mode" href="OperationMode.html" />
    <link rel="prev" title="3.8. MultiCore Support" href="MultiCore.html" /> 
  </head>
  <body role="document">
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="OperationMode.html" title="3.10. Operation Mode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="MultiCore.html" title="3.8. MultiCore Support"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">3. Features</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.9. OPC UA</a><ul>
<li><a class="reference internal" href="#overview">3.9.1. Overview</a></li>
<li><a class="reference internal" href="#delivery">3.9.2. Delivery</a></li>
<li><a class="reference internal" href="#opc-ua-requirements">3.9.3. OPC UA requirements</a></li>
<li><a class="reference internal" href="#opc-ua-server">3.9.4. OPC UA Server</a><ul>
<li><a class="reference internal" href="#id1">3.9.4.1. Overview</a></li>
<li><a class="reference internal" href="#provider-interface">3.9.4.2. Provider Interface</a></li>
<li><a class="reference internal" href="#server-interface">3.9.4.3. Server Interface</a></li>
<li><a class="reference internal" href="#platforms">3.9.4.4. Platforms</a></li>
<li><a class="reference internal" href="#ressources">3.9.4.5. Ressources</a></li>
<li><a class="reference internal" href="#configuration-file">3.9.4.6. Configuration File</a></li>
<li><a class="reference internal" href="#restrictions">3.9.4.7. Restrictions</a></li>
<li><a class="reference internal" href="#security">3.9.4.8. Security</a></li>
<li><a class="reference internal" href="#requirements">3.9.4.9. Requirements</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="MultiCore.html"
                        title="previous chapter">3.8. MultiCore Support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="OperationMode.html"
                        title="next chapter">3.10. Operation Mode</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Features/OPCUA.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="opc-ua">
<h1>3.9. OPC UA<a class="headerlink" href="#opc-ua" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>3.9.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>OPC UA is a communication protocol developed by the OPC Foundation. This protocol
is used to exchange data between different controllers and to exchange data
from the controller to higher level systems like SCADA systems. In contrast
to the classical OPC protocol OPC UA doesn&#8217;t use Microsoft COM/DCOM
technology. It uses a TCP based protocol to exchange data. So OPC UA is platform independent
an the protocol can be implemented on different platforms using different programming
languages. The OPC Foundation provides three different implementations of the
protocol to its members:</p>
<blockquote>
<div><ul class="simple">
<li>ANSI-C implementation</li>
<li>.Net implementation written in C#</li>
<li>Java implementation</li>
</ul>
</div></blockquote>
<p>The protocol was designed fulfil different aspects:</p>
<blockquote>
<div><ul class="simple">
<li>Scalability: The same protocol can be used from sensor level up to SCADA systems</li>
<li>Security: Is an incorporated part of the protocol</li>
<li>Profiles: Describing the capabilities of servers or clients</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="delivery">
<h2>3.9.2. Delivery<a class="headerlink" href="#delivery" title="Permalink to this headline">¶</a></h2>
<p>Because of some license restriction of the OPC Foundation there are two
different ways how to get access to the OPC UA component:</p>
<ol class="arabic simple">
<li>Binary: A binary version of the component can be shipped to every OEM if
we have the toolchain of this platform.</li>
<li>Sources: The OPC UA license doesn&#8217;t allow shipping the OPC UA stack source code.
To be able to build the OPC UA component from source the OEM needs to be a member
of the OPC Foundation. Only members get access to the source code of the OPC UA ANSI-C stack. We ship the
following components to be able to build the component:<ul>
<li>The platform adaptation of the OPC UA stack to the runtime system.</li>
<li>The component source code itself.</li>
<li>A patch containing modifications made to the original ANSI-C source code.</li>
<li>A list of source files needed out of the ANSI-C stack.</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="opc-ua-requirements">
<h2>3.9.3. OPC UA requirements<a class="headerlink" href="#opc-ua-requirements" title="Permalink to this headline">¶</a></h2>
<p>OPC UA component relies mainly on the components SysSocket and SysSemCount.
Furthermore it&#8217;s only usable with a full mutlitasking scheduler.</p>
</div>
<div class="section" id="opc-ua-server">
<h2>3.9.4. OPC UA Server<a class="headerlink" href="#opc-ua-server" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>3.9.4.1. Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The OPC UA Server exposes variables configured in the symbolic configuration
of the CODESYS project to the OPC UA address space. Clients can read, write
and monitor the values of the PLC.
To enable the OPC UA support in the CODESYS IDE the option &#8220;Support OPC UA Features&#8221;
must be set in the Symbolconfiguration.</p>
<p>Currently the OPC UA server supports the &#8220;Micro Embedded Device Server Profile&#8221;.
This server profile allows reading, writing, and subscribing of items. Security features
such as encrypted communication and user management are currently not supported.</p>
<p>OPC UA allows defining different data types. The combination of customer
defined data types, object types and reference types allows defining your own
information model. An information model describes how the data should be
exposed to the address space. By now only the basic information model is
provided. The PLCopen information model is planned for one of the
next service packs. It is possible to add an own information model to the
OPC UA Server. To extend the OPC UA server with your specific information
model and your specific data it is required to implement the Provider
interface which is described in the next chapter.</p>
</div>
<div class="section" id="provider-interface">
<h3>3.9.4.2. Provider Interface<a class="headerlink" href="#provider-interface" title="Permalink to this headline">¶</a></h3>
<p>The provider interface is used to add nodes to the address space of the
OPC UA server. The server itself doesn&#8217;t provide any nodes. The basic nodes
are already defined in an own provider. The server itself does as much
preprocessing as possible to identify errors in the requests of the client.
After these checks have been done the server calls all registered providers
to get the data to be sent to the client.</p>
<p>The subscriptions work slightly different. The server does the complete
handling of the subscriptions and monitored items. The provider is only
responsible to sample the item if the sampling interval exceeds. All
additional processing (filtering, buffering, publishing) is done by the server.</p>
<p>A detailed  description of the provider interface can be found in the
corresponding header file (see: OpcUaProvider.h). As a short overview these
are the functions of the provider interface:</p>
<ul class="simple">
<li>Initialization and clean up</li>
<li>CreateMonitoredItem</li>
<li>SampleMonitoredItem</li>
<li>DeleteMonitoredItem</li>
<li>Read</li>
<li>Write</li>
<li>Browse</li>
</ul>
</div>
<div class="section" id="server-interface">
<h3>3.9.4.3. Server Interface<a class="headerlink" href="#server-interface" title="Permalink to this headline">¶</a></h3>
<p>A server interface is provided for interactions with the OPC UA server. This interface allows the following
operations:</p>
<ul class="simple">
<li>Get the index of the given namespace</li>
<li>Register a new namespace to the server</li>
<li>Load an information model out of a XML file. The XML file has to follow the</li>
</ul>
<p>OPC UA UANodeset.xsd schema. The schema can be found at: <a class="reference external" href="http://www.opcfoundation.org/UA/schemas/1.02/UANodeSet.xsd">http://www.opcfoundation.org/UA/schemas/1.02/UANodeSet.xsd</a></p>
</div>
<div class="section" id="platforms">
<h3>3.9.4.4. Platforms<a class="headerlink" href="#platforms" title="Permalink to this headline">¶</a></h3>
<p>The OPC UA server works on all platforms matching the minimum requirements.
The runtime system must include all required components. Because OPC UA
moves a lot of logic of the client into the server platforms the OPC UA server
may cause a high CPU load. Devices with slow processors aren&#8217;t able to run
the OPC UA server. The RAM footprint of a runtime with OPC UA is nearly doubled.</p>
</div>
<div class="section" id="ressources">
<h3>3.9.4.5. Ressources<a class="headerlink" href="#ressources" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="14%" />
<col width="14%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Platform</th>
<th class="head">ROM (kB)</th>
<th class="head">RAM idle</th>
<th class="head">RAM (1000 monitored items)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Control Win V3</td>
<td>~450</td>
<td>~250kB</td>
<td>~1MB</td>
</tr>
<tr class="row-odd"><td>Raspserry Pi</td>
<td>~900</td>
<td>~1084</td>
<td>~1MB</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration-file">
<h3>3.9.4.6. Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h3>
<p>To configure the behaviour of the OPC UA server there are some entries in
the CODESYSControl configuration file. For details see the CmpOPCUAServer
interface description (see <a class="reference internal" href="../Reference/group___cmp_o_p_c_u_a_server_itf.html#group-cmp-o-p-c-u-a-server-itf"><span class="std std-ref">CmpOPCUAServerItf</span></a>).</p>
</div>
<div class="section" id="restrictions">
<h3>3.9.4.7. Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>No user management is available.</li>
</ul>
</div>
<div class="section" id="security">
<h3>3.9.4.8. Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<p>The availble security features of the OPC UA server are documented in <a class="reference internal" href="Security.html#opcua-server-security"><span class="std std-ref">OPC UA Server security features</span></a>.</p>
</div>
<div class="section" id="requirements">
<h3>3.9.4.9. Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>Additionally the OPC UA server requires the following components of the runtime system:</p>
<ul class="simple">
<li>SysTarget</li>
<li>CmpIecVarAccess</li>
<li>CmpApp</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="OperationMode.html" title="3.10. Operation Mode"
             >next</a> |</li>
        <li class="right" >
          <a href="MultiCore.html" title="3.8. MultiCore Support"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >3. Features</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, 3S-Smart Software Solutions GmbH.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>
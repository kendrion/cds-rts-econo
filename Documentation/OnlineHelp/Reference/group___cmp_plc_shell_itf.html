
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.2.77. CmpPlcShellItf &#8212; RuntimeSystemOnlineHelp V3.5.14.0</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="RuntimeSystemOnlineHelp V3.5.14.0" href="../index.html" />
    <link rel="up" title="5. Reference" href="index.html" />
    <link rel="next" title="5.2.78. CmpRedundancyConnectionItf" href="group___cmp_redundancy_connection_itf.html" />
    <link rel="prev" title="5.2.76. CmpObjectMgrItf" href="group___cmp_object_mgr_itf.html" /> 
  </head>
  <body role="document">
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="group___cmp_redundancy_connection_itf.html" title="5.2.78. CmpRedundancyConnectionItf"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="group___cmp_object_mgr_itf.html" title="5.2.76. CmpObjectMgrItf"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">5. Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.2.77. CmpPlcShellItf</a><ul>
<li><a class="reference internal" href="#modules">5.2.77.1. Modules</a></li>
<li><a class="reference internal" href="#data-structures">5.2.77.2. Data Structures</a></li>
<li><a class="reference internal" href="#macros">5.2.77.3. Macros</a></li>
<li><a class="reference internal" href="#typedefs">5.2.77.4. Typedefs</a></li>
<li><a class="reference internal" href="#functions">5.2.77.5. Functions</a></li>
<li><a class="reference internal" href="#detailed-description">5.2.77.6. Detailed Description</a></li>
<li><a class="reference internal" href="#macro-definition-documentation">5.2.77.7. Macro Definition Documentation</a><ul>
<li><a class="reference internal" href="#define-itf-cmpplcshell">5.2.77.7.1. #define ITF_CmpPlcShell</a></li>
<li><a class="reference internal" href="#define-extitf-cmpplcshell">5.2.77.7.2. #define EXTITF_CmpPlcShell</a></li>
</ul>
</li>
<li><a class="reference internal" href="#typedef-documentation">5.2.77.8. Typedef Documentation</a><ul>
<li><a class="reference internal" href="#typedef-struct-tagplcshellappend-struct-plcshellappend-struct">5.2.77.8.1. typedef struct tagplcshellappend_struct  plcshellappend_struct</a></li>
<li><a class="reference internal" href="#typedef-struct-tagplcshellregister-struct-plcshellregister-struct">5.2.77.8.2. typedef struct tagplcshellregister_struct  plcshellregister_struct</a></li>
<li><a class="reference internal" href="#typedef-struct-tagplcshellseteof-struct-plcshellseteof-struct">5.2.77.8.3. typedef struct tagplcshellseteof_struct  plcshellseteof_struct</a></li>
<li><a class="reference internal" href="#typedef-struct-tagplcshellskip-struct-plcshellskip-struct">5.2.77.8.4. typedef struct tagplcshellskip_struct  plcshellskip_struct</a></li>
<li><a class="reference internal" href="#typedef-struct-tagplcshellunregister-struct-plcshellunregister-struct">5.2.77.8.5. typedef struct tagplcshellunregister_struct  plcshellunregister_struct</a></li>
<li><a class="reference internal" href="#typedef-icmpplcshell-c-icmpplcshell">5.2.77.8.6. typedef ICmpPlcShell_C ICmpPlcShell</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-documentation">5.2.77.9. Function Documentation</a><ul>
<li><a class="reference internal" href="#void-plcshellappend-plcshellappend-struct-p">5.2.77.9.1. void plcshellappend (plcshellappend_struct *p)</a></li>
<li><a class="reference internal" href="#void-plcshellregister-plcshellregister-struct-p">5.2.77.9.2. void plcshellregister (plcshellregister_struct *p)</a></li>
<li><a class="reference internal" href="#void-plcshellseteof-plcshellseteof-struct-p">5.2.77.9.3. void plcshellseteof (plcshellseteof_struct *p)</a></li>
<li><a class="reference internal" href="#void-plcshellskip-plcshellskip-struct-p">5.2.77.9.4. void plcshellskip (plcshellskip_struct *p)</a></li>
<li><a class="reference internal" href="#void-plcshellunregister-plcshellunregister-struct-p">5.2.77.9.5. void plcshellunregister (plcshellunregister_struct *p)</a></li>
<li><a class="reference internal" href="#rts-result-plcshellregister-char-pszname-char-pszhelp-pfeventcallbackfunction-pfcallbackfunction-int-biec">5.2.77.9.6. RTS_RESULT PlcShellRegister (char *pszName, char *pszHelp, PFEVENTCALLBACKFUNCTION pfCallbackFunction, int bIec)</a></li>
<li><a class="reference internal" href="#rts-result-plcshellunregister-pfeventcallbackfunction-pfcallbackfunction">5.2.77.9.7. RTS_RESULT PlcShellUnregister (PFEVENTCALLBACKFUNCTION pfCallbackFunction)</a></li>
<li><a class="reference internal" href="#rts-result-plcshellseteof-unsigned-int-uieofpos">5.2.77.9.8. RTS_RESULT PlcShellSetEof (unsigned int uiEofPos)</a></li>
<li><a class="reference internal" href="#rts-result-plcshelleof-int-iblockid">5.2.77.9.9. RTS_RESULT PlcShellEof (int iBlockID)</a></li>
<li><a class="reference internal" href="#rts-result-plcshellskip-int-iblockid">5.2.77.9.10. RTS_RESULT PlcShellSkip (int iBlockID)</a></li>
<li><a class="reference internal" href="#rts-result-plcshellappend-const-char-pszstring-int-iblockid">5.2.77.9.11. RTS_RESULT PlcShellAppend (const char *pszString, int iBlockID)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="group___cmp_object_mgr_itf.html"
                        title="previous chapter">5.2.76. CmpObjectMgrItf</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="group___cmp_redundancy_connection_itf.html"
                        title="next chapter">5.2.78. CmpRedundancyConnectionItf</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Reference/group___cmp_plc_shell_itf.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cmpplcshellitf">
<span id="group-cmp-plc-shell-itf"></span><h1>5.2.77. CmpPlcShellItf<a class="headerlink" href="#cmpplcshellitf" title="Permalink to this headline">¶</a></h1>
<p>Interface of CmpPlcShell. <a class="reference internal" href="#group-cmp-plc-shell-itf-details"><span class="std std-ref">More...</span></a></p>
<div class="section" id="modules">
<h2>5.2.77.1. Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="group___cmp_plc_shell_itf___eventparameter.html#group-cmp-plc-shell-itf-eventparameter"><span class="std std-ref">Event parameter</span></a></li>
<li><a class="reference internal" href="group___cmp_plc_shell_itf___events.html#group-cmp-plc-shell-itf-events"><span class="std std-ref">Events</span></a></li>
<li><a class="reference internal" href="group___cmp_plc_shell_itf___plc_shell_command_entry.html#group-cmp-plc-shell-itf-plc-shell-command-entry"><span class="std std-ref">PlcShellCommandEntry</span></a></li>
<li><a class="reference internal" href="group___cmp_plc_shell_itf___staticdefines.html#group-cmp-plc-shell-itf-staticdefines"><span class="std std-ref">Static defines</span></a></li>
</ul>
</div>
<div class="section" id="data-structures">
<h2>5.2.77.2. Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>struct <a class="reference internal" href="structtagplcshellappend__struct.html#structtagplcshellappend-struct"><span class="std std-ref">tagplcshellappend_struct</span></a></li>
<li>struct <a class="reference internal" href="structtagplcshellregister__struct.html#structtagplcshellregister-struct"><span class="std std-ref">tagplcshellregister_struct</span></a></li>
<li>struct <a class="reference internal" href="structtagplcshellseteof__struct.html#structtagplcshellseteof-struct"><span class="std std-ref">tagplcshellseteof_struct</span></a></li>
<li>struct <a class="reference internal" href="structtagplcshellskip__struct.html#structtagplcshellskip-struct"><span class="std std-ref">tagplcshellskip_struct</span></a></li>
<li>struct <a class="reference internal" href="structtagplcshellunregister__struct.html#structtagplcshellunregister-struct"><span class="std std-ref">tagplcshellunregister_struct</span></a></li>
<li>struct <a class="reference internal" href="struct_i_cmp_plc_shell___c.html#struct-i-cmp-plc-shell-c"><span class="std std-ref">ICmpPlcShell_C</span></a></li>
</ul>
</div>
<div class="section" id="macros">
<h2>5.2.77.3. Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>#define <a class="reference internal" href="#group-cmp-plc-shell-itf-1gabe5676534b50dc5344965b9836b64b41"><span class="std std-ref">ITF_CmpPlcShell</span></a></li>
<li>#define <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga0c361f4b65d46e30aa6a2977af96346a"><span class="std std-ref">EXTITF_CmpPlcShell</span></a></li>
</ul>
</div>
<div class="section" id="typedefs">
<h2>5.2.77.4. Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>typedef struct <a class="reference internal" href="structtagplcshellappend__struct.html#structtagplcshellappend-struct"><span class="std std-ref">tagplcshellappend_struct</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga6391e768167107bfbe6fec7e521b2eb8"><span class="std std-ref">plcshellappend_struct</span></a></li>
<li>typedef struct <a class="reference internal" href="structtagplcshellregister__struct.html#structtagplcshellregister-struct"><span class="std std-ref">tagplcshellregister_struct</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1gaca715acc8c35f793c3795763d7042f80"><span class="std std-ref">plcshellregister_struct</span></a></li>
<li>typedef struct <a class="reference internal" href="structtagplcshellseteof__struct.html#structtagplcshellseteof-struct"><span class="std std-ref">tagplcshellseteof_struct</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga475e346b117951185d3be99c7eb57533"><span class="std std-ref">plcshellseteof_struct</span></a></li>
<li>typedef struct <a class="reference internal" href="structtagplcshellskip__struct.html#structtagplcshellskip-struct"><span class="std std-ref">tagplcshellskip_struct</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1gace70c70086dc0f25428a829b017b27de"><span class="std std-ref">plcshellskip_struct</span></a></li>
<li>typedef struct <a class="reference internal" href="structtagplcshellunregister__struct.html#structtagplcshellunregister-struct"><span class="std std-ref">tagplcshellunregister_struct</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga27df0ce79fa5be658b5340411311d5a5"><span class="std std-ref">plcshellunregister_struct</span></a></li>
<li>typedef <a class="reference internal" href="struct_i_cmp_plc_shell___c.html#struct-i-cmp-plc-shell-c"><span class="std std-ref">ICmpPlcShell_C</span></a> <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga6d5e455f3f3f241bbe14c60443d97a20"><span class="std std-ref">ICmpPlcShell</span></a></li>
</ul>
</div>
<div class="section" id="functions">
<h2>5.2.77.5. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>void <a class="reference internal" href="#group-cmp-plc-shell-itf-1gacfb89d227e69420a44344c7cd62a3136"><span class="std std-ref">plcshellappend</span></a> (<a class="reference internal" href="#group-cmp-plc-shell-itf-1ga6391e768167107bfbe6fec7e521b2eb8"><span class="std std-ref">plcshellappend_struct</span></a> * p)</li>
<li>void <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga2a9185bcafdc8b85755be5e3af5999b9"><span class="std std-ref">plcshellregister</span></a> (<a class="reference internal" href="#group-cmp-plc-shell-itf-1gaca715acc8c35f793c3795763d7042f80"><span class="std std-ref">plcshellregister_struct</span></a> * p)</li>
<li>void <a class="reference internal" href="#group-cmp-plc-shell-itf-1gace351c3d75a6cd0bd0be0535aecac4de"><span class="std std-ref">plcshellseteof</span></a> (<a class="reference internal" href="#group-cmp-plc-shell-itf-1ga475e346b117951185d3be99c7eb57533"><span class="std std-ref">plcshellseteof_struct</span></a> * p)</li>
<li>void <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga7f3a613ce00d52b61eec2cf2c95302df"><span class="std std-ref">plcshellskip</span></a> (<a class="reference internal" href="#group-cmp-plc-shell-itf-1gace70c70086dc0f25428a829b017b27de"><span class="std std-ref">plcshellskip_struct</span></a> * p)</li>
<li>void <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga3d074b1cafe53d6958c6999f1478ad58"><span class="std std-ref">plcshellunregister</span></a> (<a class="reference internal" href="#group-cmp-plc-shell-itf-1ga27df0ce79fa5be658b5340411311d5a5"><span class="std std-ref">plcshellunregister_struct</span></a> * p)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga984d8f2f1f4fe07ba3e51fda73cb3911"><span class="std std-ref">PlcShellRegister</span></a> (char * pszName, char * pszHelp, <a class="reference internal" href="group___cmp_event_callback_itf.html#group-cmp-event-callback-itf-1ga66fcdd6103915e80e60e526bd4ad4dcf"><span class="std std-ref">PFEVENTCALLBACKFUNCTION</span></a>  pfCallbackFunction, int bIec)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1gad2332a8832392229eabe4a2cefbd5df5"><span class="std std-ref">PlcShellUnregister</span></a> (<a class="reference internal" href="group___cmp_event_callback_itf.html#group-cmp-event-callback-itf-1ga66fcdd6103915e80e60e526bd4ad4dcf"><span class="std std-ref">PFEVENTCALLBACKFUNCTION</span></a>  pfCallbackFunction)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga01cf373f03302baec79a02fd5a10f4f8"><span class="std std-ref">PlcShellSetEof</span></a> (unsigned int uiEofPos)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1gaba7dca4830fdfa59244d0d03f4b0f798"><span class="std std-ref">PlcShellEof</span></a> (int iBlockID)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga757626cbb55adeb2608c69836624857b"><span class="std std-ref">PlcShellSkip</span></a> (int iBlockID)</li>
<li>RTS_RESULT <a class="reference internal" href="#group-cmp-plc-shell-itf-1gaa73dc6d443ba493a43be4f2ec1461410"><span class="std std-ref">PlcShellAppend</span></a> (const char * pszString, int iBlockID)</li>
</ul>
</div>
<div class="section" id="detailed-description">
<span id="group-cmp-plc-shell-itf-details"></span><h2>5.2.77.6. Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<p>Interface of CmpPlcShell.</p>
<p>This interface enables foreign components or an IEC Application, to register a command handler and to send the output of the handler back to the PLC Shell.</p>
<p>If the output of the command is big and has to be devided into several chunks to be sent to the programming system, there are two possibilities to do that:</p>
<ol class="arabic simple">
<li>The command handler is dump and just sends the whole output, every time it is called, and doesn&#8217;t care about the current &#8220;BlockID&#8221;. In this case the PlcShell Component takes care about that. It calls the handler several times, but discards all output which doesn&#8217;t belong to the current block.</li>
<li>The command handler is intelligent enough to prepare only the currently requested block.</li>
</ol>
<ul class="simple">
<li>First, the handler needs to call PlcShellSkip(...) to skip the number of blocks, which he doesn&#8217;t need to send again.</li>
<li>Then, the handler will call PlcShellAppend(...) as much as necessary to prepare the currently sent block.</li>
<li>The handler has to call the function PlcShellSetEof(...) once with the number of bytes he want&#8217;s to sent at all (not within the current request, but the total number of bytes, during all requests.)</li>
</ul>
<p>IMPLEMENTATION NOTES:</p>
<ul class="simple">
<li>The help description of a command is limited. So if you would like to provide a larger description: Provide a dedicated help command with &#8221;?&#8221; as a parameter and as result transport the extended help description!</li>
</ul>
<p>Example: Command = &#8220;mycommand&#8221;&#8221;
Extended help = &#8220;mycommand ?&#8221;</p>
<p><strong>Copyright:</strong></p>
<p>Copyright (c) 2017-2018 CODESYS GmbH, Copyright (c) 1994-2016 3S-Smart Software Solutions GmbH. All rights reserved.</p>
</div>
<div class="section" id="macro-definition-documentation">
<h2>5.2.77.7. Macro Definition Documentation<a class="headerlink" href="#macro-definition-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="define-itf-cmpplcshell">
<span id="group-cmp-plc-shell-itf-1gabe5676534b50dc5344965b9836b64b41"></span><h3>5.2.77.7.1. #define ITF_CmpPlcShell<a class="headerlink" href="#define-itf-cmpplcshell" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="define-extitf-cmpplcshell">
<span id="group-cmp-plc-shell-itf-1ga0c361f4b65d46e30aa6a2977af96346a"></span><h3>5.2.77.7.2. #define EXTITF_CmpPlcShell<a class="headerlink" href="#define-extitf-cmpplcshell" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="typedef-documentation">
<h2>5.2.77.8. Typedef Documentation<a class="headerlink" href="#typedef-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="typedef-struct-tagplcshellappend-struct-plcshellappend-struct">
<span id="group-cmp-plc-shell-itf-1ga6391e768167107bfbe6fec7e521b2eb8"></span><h3>5.2.77.8.1. typedef struct tagplcshellappend_struct  plcshellappend_struct<a class="headerlink" href="#typedef-struct-tagplcshellappend-struct-plcshellappend-struct" title="Permalink to this headline">¶</a></h3>
<p>EXTERN LIB SECTION BEGIN</p>
<p>Append a line to the command output</p>
<p>The passed parameter iBlockID, has TO be the BlockID, which was passed to the command handler! The communication layer automatically manages the split of blocks. If you want to avoid this and write only the current block that is sent to CoDeSys, use the function <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga757626cbb55adeb2608c69836624857b"><span class="std std-ref">PlcShellSkip()</span></a> . RETURN: Returns the runtime system error code (see CmpErrors.library)</p>
</div>
<div class="section" id="typedef-struct-tagplcshellregister-struct-plcshellregister-struct">
<span id="group-cmp-plc-shell-itf-1gaca715acc8c35f793c3795763d7042f80"></span><h3>5.2.77.8.2. typedef struct tagplcshellregister_struct  plcshellregister_struct<a class="headerlink" href="#typedef-struct-tagplcshellregister-struct-plcshellregister-struct" title="Permalink to this headline">¶</a></h3>
<p>Register a new Command Handler</p>
<p>The command is sent TO the handler as an event OF the EventMgr. So the CommandHandler needs to implement the Interface ICmpEventCallback.</p>
<p>Note: For the ease of use, you can also derive your Command Handler from the FB &#8220;CommandHandler&#8221; in this library. This helps you in the registration and deregistration of the handler. RETURN: Returns the runtime system error code (see CmpErrors.library)</p>
</div>
<div class="section" id="typedef-struct-tagplcshellseteof-struct-plcshellseteof-struct">
<span id="group-cmp-plc-shell-itf-1ga475e346b117951185d3be99c7eb57533"></span><h3>5.2.77.8.3. typedef struct tagplcshellseteof_struct  plcshellseteof_struct<a class="headerlink" href="#typedef-struct-tagplcshellseteof-struct-plcshellseteof-struct" title="Permalink to this headline">¶</a></h3>
<p>Set EOF</p>
<p>This function should be called when the Command Handler is finished with it&#8217;s output. RETURN: Returns the runtime system error code (see CmpErrors.library)</p>
</div>
<div class="section" id="typedef-struct-tagplcshellskip-struct-plcshellskip-struct">
<span id="group-cmp-plc-shell-itf-1gace70c70086dc0f25428a829b017b27de"></span><h3>5.2.77.8.4. typedef struct tagplcshellskip_struct  plcshellskip_struct<a class="headerlink" href="#typedef-struct-tagplcshellskip-struct-plcshellskip-struct" title="Permalink to this headline">¶</a></h3>
<p>Skip a number of blocks in the output.</p>
<p>If a Command Handler sends a huge amount of output, it might be necessary, that this output is splitted into several blocks by the communication layer. When this happens, the communication layer will discard everything, but the current block from the output and recall the Command Handler several times.</p>
<p>To avoid this, an intelligent Command Handler can generate only the currently necessary block of output. For this, it needs to &#8220;skip&#8221; all blocks, which are already sent, by calling this function. Then it should write only that much data, that they fit into one block and call <a class="reference internal" href="#group-cmp-plc-shell-itf-1ga01cf373f03302baec79a02fd5a10f4f8"><span class="std std-ref">PlcShellSetEof()</span></a> when it is finished. RETURN: Returns the runtime system error code (see CmpErrors.library)</p>
</div>
<div class="section" id="typedef-struct-tagplcshellunregister-struct-plcshellunregister-struct">
<span id="group-cmp-plc-shell-itf-1ga27df0ce79fa5be658b5340411311d5a5"></span><h3>5.2.77.8.5. typedef struct tagplcshellunregister_struct  plcshellunregister_struct<a class="headerlink" href="#typedef-struct-tagplcshellunregister-struct-plcshellunregister-struct" title="Permalink to this headline">¶</a></h3>
<p>Unregister a new Command Handler</p>
<p>Unregister the command handler, which is passed to this function. Most likely this function will be used in FB_exit, because every Command Handler in IEC has to unregister when the application is deleted. RETURN: Returns the runtime system error code (see CmpErrors.library)</p>
</div>
<div class="section" id="typedef-icmpplcshell-c-icmpplcshell">
<span id="group-cmp-plc-shell-itf-1ga6d5e455f3f3f241bbe14c60443d97a20"></span><h3>5.2.77.8.6. typedef ICmpPlcShell_C ICmpPlcShell<a class="headerlink" href="#typedef-icmpplcshell-c-icmpplcshell" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="function-documentation">
<h2>5.2.77.9. Function Documentation<a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="void-plcshellappend-plcshellappend-struct-p">
<span id="group-cmp-plc-shell-itf-1gacfb89d227e69420a44344c7cd62a3136"></span><h3>5.2.77.9.1. void plcshellappend (plcshellappend_struct <a href="#id1"><span class="problematic" id="id2">*</span></a>p)<a class="headerlink" href="#void-plcshellappend-plcshellappend-struct-p" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="void-plcshellregister-plcshellregister-struct-p">
<span id="group-cmp-plc-shell-itf-1ga2a9185bcafdc8b85755be5e3af5999b9"></span><h3>5.2.77.9.2. void plcshellregister (plcshellregister_struct <a href="#id3"><span class="problematic" id="id4">*</span></a>p)<a class="headerlink" href="#void-plcshellregister-plcshellregister-struct-p" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="void-plcshellseteof-plcshellseteof-struct-p">
<span id="group-cmp-plc-shell-itf-1gace351c3d75a6cd0bd0be0535aecac4de"></span><h3>5.2.77.9.3. void plcshellseteof (plcshellseteof_struct <a href="#id5"><span class="problematic" id="id6">*</span></a>p)<a class="headerlink" href="#void-plcshellseteof-plcshellseteof-struct-p" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="void-plcshellskip-plcshellskip-struct-p">
<span id="group-cmp-plc-shell-itf-1ga7f3a613ce00d52b61eec2cf2c95302df"></span><h3>5.2.77.9.4. void plcshellskip (plcshellskip_struct <a href="#id7"><span class="problematic" id="id8">*</span></a>p)<a class="headerlink" href="#void-plcshellskip-plcshellskip-struct-p" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="void-plcshellunregister-plcshellunregister-struct-p">
<span id="group-cmp-plc-shell-itf-1ga3d074b1cafe53d6958c6999f1478ad58"></span><h3>5.2.77.9.5. void plcshellunregister (plcshellunregister_struct <a href="#id9"><span class="problematic" id="id10">*</span></a>p)<a class="headerlink" href="#void-plcshellunregister-plcshellunregister-struct-p" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="rts-result-plcshellregister-char-pszname-char-pszhelp-pfeventcallbackfunction-pfcallbackfunction-int-biec">
<span id="group-cmp-plc-shell-itf-1ga984d8f2f1f4fe07ba3e51fda73cb3911"></span><h3>5.2.77.9.6. RTS_RESULT PlcShellRegister (char <a href="#id11"><span class="problematic" id="id12">*</span></a>pszName, char <a href="#id13"><span class="problematic" id="id14">*</span></a>pszHelp, PFEVENTCALLBACKFUNCTION pfCallbackFunction, int bIec)<a class="headerlink" href="#rts-result-plcshellregister-char-pszname-char-pszhelp-pfeventcallbackfunction-pfcallbackfunction-int-biec" title="Permalink to this headline">¶</a></h3>
<p>EXTERN LIB SECTION END</p>
<p>Register a new command handler</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="22%" />
<col width="68%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>pszName</td>
<td>Name of the command.</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pszHelp</td>
<td>Help Text of the command.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>pfCallbackFunction</td>
<td>Event Callback, which is called, whenever a command occurs.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>error code</p>
</div>
<div class="section" id="rts-result-plcshellunregister-pfeventcallbackfunction-pfcallbackfunction">
<span id="group-cmp-plc-shell-itf-1gad2332a8832392229eabe4a2cefbd5df5"></span><h3>5.2.77.9.7. RTS_RESULT PlcShellUnregister (PFEVENTCALLBACKFUNCTION pfCallbackFunction)<a class="headerlink" href="#rts-result-plcshellunregister-pfeventcallbackfunction-pfcallbackfunction" title="Permalink to this headline">¶</a></h3>
<p>Unregister a new command handler</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="11%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>pfCallbackFunction</td>
<td>Event Callback, which was registered with <span class="xref std std-ref">PlcShellRegister()</span> before.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>error code</p>
</div>
<div class="section" id="rts-result-plcshellseteof-unsigned-int-uieofpos">
<span id="group-cmp-plc-shell-itf-1ga01cf373f03302baec79a02fd5a10f4f8"></span><h3>5.2.77.9.8. RTS_RESULT PlcShellSetEof (unsigned int uiEofPos)<a class="headerlink" href="#rts-result-plcshellseteof-unsigned-int-uieofpos" title="Permalink to this headline">¶</a></h3>
<p>Set End Of File to current position. This function should be called from a command handler, to signal that he is finished with his output. If this function is not called upon the end of the command handler, the system implies that the end was reached at the end of the handler.</p>
<p><strong>Returns:</strong></p>
<p>error code</p>
</div>
<div class="section" id="rts-result-plcshelleof-int-iblockid">
<span id="group-cmp-plc-shell-itf-1gaba7dca4830fdfa59244d0d03f4b0f798"></span><h3>5.2.77.9.9. RTS_RESULT PlcShellEof (int iBlockID)<a class="headerlink" href="#rts-result-plcshelleof-int-iblockid" title="Permalink to this headline">¶</a></h3>
<p>Check if end of shell command reached</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="11%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>iBlockID</td>
<td>ID of the next block (which is equal to the number of blocks to skip).</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>error code: <a href="#id15"><span class="problematic" id="id16">*</span></a>ERR_OK: End of shell command reached <a href="#id17"><span class="problematic" id="id18">*</span></a>ERR_FAILED: Shell command in progress</p>
</div>
<div class="section" id="rts-result-plcshellskip-int-iblockid">
<span id="group-cmp-plc-shell-itf-1ga757626cbb55adeb2608c69836624857b"></span><h3>5.2.77.9.10. RTS_RESULT PlcShellSkip (int iBlockID)<a class="headerlink" href="#rts-result-plcshellskip-int-iblockid" title="Permalink to this headline">¶</a></h3>
<p>Skip a number of blocks in the output buffer. Skip the specified number of blocks in the output and imply, that we are starting now with the next block, when we call <span class="xref std std-ref">PlcShellAppend()</span> afterwards.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="11%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>iBlockID</td>
<td>ID of the next block (which is equal to the number of blocks to skip).</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>error code</p>
</div>
<div class="section" id="rts-result-plcshellappend-const-char-pszstring-int-iblockid">
<span id="group-cmp-plc-shell-itf-1gaa73dc6d443ba493a43be4f2ec1461410"></span><h3>5.2.77.9.11. RTS_RESULT PlcShellAppend (const char <a href="#id19"><span class="problematic" id="id20">*</span></a>pszString, int iBlockID)<a class="headerlink" href="#rts-result-plcshellappend-const-char-pszstring-int-iblockid" title="Permalink to this headline">¶</a></h3>
<p>Append a string to the output of the command. In case, that our output buffer is not yet or not anymore within the specified Block, the output is simply discarded.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="11%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>iBlockID</td>
<td>ID of the next block (which is equal to the number of blocks to skip).</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>iBlockID</td>
<td>ID of the current block.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>error code</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="group___cmp_redundancy_connection_itf.html" title="5.2.78. CmpRedundancyConnectionItf"
             >next</a> |</li>
        <li class="right" >
          <a href="group___cmp_object_mgr_itf.html" title="5.2.76. CmpObjectMgrItf"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, 3S-Smart Software Solutions GmbH.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>
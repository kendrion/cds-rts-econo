
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.2.113. IoDrvUnsafeBridgeModuletestItf &#8212; RuntimeSystemOnlineHelp V3.5.14.0</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="RuntimeSystemOnlineHelp V3.5.14.0" href="../index.html" />
    <link rel="up" title="5. Reference" href="index.html" />
    <link rel="next" title="5.2.114. SysComItf" href="group___sys_com_itf.html" />
    <link rel="prev" title="5.2.112. IoDrvKNXItf" href="group___io_drv_k_n_x_itf.html" /> 
  </head>
  <body role="document">
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="group___sys_com_itf.html" title="5.2.114. SysComItf"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="group___io_drv_k_n_x_itf.html" title="5.2.112. IoDrvKNXItf"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">5. Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.2.113. IoDrvUnsafeBridgeModuletestItf</a><ul>
<li><a class="reference internal" href="#data-structures">5.2.113.1. Data Structures</a></li>
<li><a class="reference internal" href="#macros">5.2.113.2. Macros</a></li>
<li><a class="reference internal" href="#typedefs">5.2.113.3. Typedefs</a></li>
<li><a class="reference internal" href="#functions">5.2.113.4. Functions</a></li>
<li><a class="reference internal" href="#detailed-description">5.2.113.5. Detailed Description</a></li>
<li><a class="reference internal" href="#macro-definition-documentation">5.2.113.6. Macro Definition Documentation</a><ul>
<li><a class="reference internal" href="#define-itf-iodrvunsafebridgemoduletest">5.2.113.6.1. #define ITF_IoDrvUnsafeBridgeModuletest</a></li>
<li><a class="reference internal" href="#define-extitf-iodrvunsafebridgemoduletest">5.2.113.6.2. #define EXTITF_IoDrvUnsafeBridgeModuletest</a></li>
</ul>
</li>
<li><a class="reference internal" href="#typedef-documentation">5.2.113.7. Typedef Documentation</a><ul>
<li><a class="reference internal" href="#typedef-iiodrvunsafebridgemoduletest-c-iiodrvunsafebridgemoduletest">5.2.113.7.1. typedef IIoDrvUnsafeBridgeModuletest_C IIoDrvUnsafeBridgeModuletest</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-documentation">5.2.113.8. Function Documentation</a><ul>
<li><a class="reference internal" href="#staticitf-def-rts-handle-iodrvcreate-rts-handle-hiiodrv-classid-classid-int-iid-rts-result-presult">5.2.113.8.1. STATICITF_DEF RTS_HANDLE IoDrvCreate (RTS_HANDLE hIIoDrv, CLASSID ClassId, int iId, RTS_RESULT *pResult)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvdelete-rts-handle-hiodrv-rts-handle-hiiodrv">5.2.113.8.2. STATICITF_DEF RTS_RESULT IoDrvDelete (RTS_HANDLE hIoDrv, RTS_HANDLE hIIoDrv)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvgetinfo-rts-handle-hiodrv-iodrvinfo-ppinfo">5.2.113.8.3. STATICITF_DEF RTS_RESULT IoDrvGetInfo (RTS_HANDLE hIoDrv, IoDrvInfo **ppInfo)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvgetmodulediagnosis-rts-handle-hiodrv-ioconfigconnector-pconnector">5.2.113.8.4. STATICITF_DEF RTS_RESULT IoDrvGetModuleDiagnosis (RTS_HANDLE hIoDrv, IoConfigConnector *pConnector)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvidentify-rts-handle-hiodrv-ioconfigconnector-pconnector">5.2.113.8.5. STATICITF_DEF RTS_RESULT IoDrvIdentify (RTS_HANDLE hIoDrv, IoConfigConnector *pConnector)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvreadinputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount">5.2.113.8.6. STATICITF_DEF RTS_RESULT IoDrvReadInputs (RTS_HANDLE hIoDrv, IoConfigConnectorMap *pConnectorMapList, int nCount)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvscanmodules-rts-handle-hiodrv-ioconfigconnector-pconnector-ioconfigconnector-ppconnectorlist-int-pncount">5.2.113.8.7. STATICITF_DEF RTS_RESULT IoDrvScanModules (RTS_HANDLE hIoDrv, IoConfigConnector *pConnector, IoConfigConnector **ppConnectorList, int *pnCount)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvstartbuscycle-rts-handle-hiodrv-ioconfigconnector-pconnector">5.2.113.8.8. STATICITF_DEF RTS_RESULT IoDrvStartBusCycle (RTS_HANDLE hIoDrv, IoConfigConnector *pConnector)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvupdateconfiguration-rts-handle-hiodrv-ioconfigconnector-pconnectorlist-int-ncount">5.2.113.8.9. STATICITF_DEF RTS_RESULT IoDrvUpdateConfiguration (RTS_HANDLE hIoDrv, IoConfigConnector *pConnectorList, int nCount)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvupdatemapping-rts-handle-hiodrv-ioconfigtaskmap-ptaskmaplist-int-ncount">5.2.113.8.10. STATICITF_DEF RTS_RESULT IoDrvUpdateMapping (RTS_HANDLE hIoDrv, IoConfigTaskMap *pTaskMapList, int nCount)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvwatchdogtrigger-rts-handle-hiodrv-ioconfigconnector-pconnector">5.2.113.8.11. STATICITF_DEF RTS_RESULT IoDrvWatchdogTrigger (RTS_HANDLE hIoDrv, IoConfigConnector *pConnector)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvwriteoutputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount">5.2.113.8.12. STATICITF_DEF RTS_RESULT IoDrvWriteOutputs (RTS_HANDLE hIoDrv, IoConfigConnectorMap *pConnectorMapList, int nCount)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvreadparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset">5.2.113.8.13. STATICITF_DEF RTS_RESULT IoDrvReadParameter (RTS_HANDLE hDevice, IoConfigConnector *pConnector, IoConfigParameter *pParameter, void *pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)</a></li>
<li><a class="reference internal" href="#staticitf-def-rts-result-iodrvwriteparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset">5.2.113.8.14. STATICITF_DEF RTS_RESULT IoDrvWriteParameter (RTS_HANDLE hDevice, IoConfigConnector *pConnector, IoConfigParameter *pParameter, void *pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="group___io_drv_k_n_x_itf.html"
                        title="previous chapter">5.2.112. IoDrvKNXItf</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="group___sys_com_itf.html"
                        title="next chapter">5.2.114. SysComItf</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Reference/group___io_drv_unsafe_bridge_moduletest_itf.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iodrvunsafebridgemoduletestitf">
<span id="group-io-drv-unsafe-bridge-moduletest-itf"></span><h1>5.2.113. IoDrvUnsafeBridgeModuletestItf<a class="headerlink" href="#iodrvunsafebridgemoduletestitf" title="Permalink to this headline">¶</a></h1>
<p>Interface of IoDrvUnsafeBridgeModuletest. <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-details"><span class="std std-ref">More...</span></a></p>
<div class="section" id="data-structures">
<h2>5.2.113.1. Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>struct <a class="reference internal" href="struct_i_io_drv_unsafe_bridge_moduletest___c.html#struct-i-io-drv-unsafe-bridge-moduletest-c"><span class="std std-ref">IIoDrvUnsafeBridgeModuletest_C</span></a></li>
</ul>
</div>
<div class="section" id="macros">
<h2>5.2.113.2. Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>#define <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga33577801f04168ce9c765c0150f0080e"><span class="std std-ref">ITF_IoDrvUnsafeBridgeModuletest</span></a></li>
<li>#define <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga1ffd1b3704afc2270e3a2b7327bd59ad"><span class="std std-ref">EXTITF_IoDrvUnsafeBridgeModuletest</span></a></li>
</ul>
</div>
<div class="section" id="typedefs">
<h2>5.2.113.3. Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>typedef <a class="reference internal" href="struct_i_io_drv_unsafe_bridge_moduletest___c.html#struct-i-io-drv-unsafe-bridge-moduletest-c"><span class="std std-ref">IIoDrvUnsafeBridgeModuletest_C</span></a> <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1gad8272e7ba55496b7af814051279059fe"><span class="std std-ref">IIoDrvUnsafeBridgeModuletest</span></a></li>
</ul>
</div>
<div class="section" id="functions">
<h2>5.2.113.4. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>STATICITF_DEF RTS_HANDLE <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga47ade8ad65e79bc0200f687e84196fb6"><span class="std std-ref">IoDrvCreate</span></a> (RTS_HANDLE hIIoDrv, CLASSID ClassId, int iId, RTS_RESULT * pResult)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga52b68304d7f829d8f27b3260c5c7abb2"><span class="std std-ref">IoDrvDelete</span></a> (RTS_HANDLE hIoDrv, RTS_HANDLE hIIoDrv)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga1fa333efd972b151d113b26a9fbf7bfa"><span class="std std-ref">IoDrvGetInfo</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_drv_itf___channel_map_list_swapping_information.html#group-cmp-io-drv-itf-channel-map-list-swapping-information-1gac069193c4451dbf1c092751626ad262a"><span class="std std-ref">IoDrvInfo</span></a> ** ppInfo)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1gaca801830078ea9485613f2491e35575d"><span class="std std-ref">IoDrvGetModuleDiagnosis</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga9edcf3040059d39a18629fd4633fd650"><span class="std std-ref">IoDrvIdentify</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga48f414affb4bb84e803e08b48eaa1ea1"><span class="std std-ref">IoDrvReadInputs</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga17d944e4f292a8b9c38e44328f586e33"><span class="std std-ref">IoConfigConnectorMap</span></a> * pConnectorMapList, int nCount)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga5f1ba7a16dc1fa5b8f588f1978a47503"><span class="std std-ref">IoDrvScanModules</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> ** ppConnectorList, int * pnCount)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga7712716bf87ce241c22958db3aa19bcc"><span class="std std-ref">IoDrvStartBusCycle</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga56a1f59dfd7963c606c8289edc2c3b8b"><span class="std std-ref">IoDrvUpdateConfiguration</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnectorList, int nCount)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga39e0e4790272987e84b31f6b5fb5d99f"><span class="std std-ref">IoDrvUpdateMapping</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga24e1b19811629d55c3187dd61411df95"><span class="std std-ref">IoConfigTaskMap</span></a> * pTaskMapList, int nCount)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga7abe6c7aa98b08694b5676deb5ff79ab"><span class="std std-ref">IoDrvWatchdogTrigger</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1gae25ad6b1f53f6935b17125d9757aad45"><span class="std std-ref">IoDrvWriteOutputs</span></a> (RTS_HANDLE hIoDrv, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga17d944e4f292a8b9c38e44328f586e33"><span class="std std-ref">IoConfigConnectorMap</span></a> * pConnectorMapList, int nCount)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga9c410decb95bdf9ae25ae1bad958cc72"><span class="std std-ref">IoDrvReadParameter</span></a> (RTS_HANDLE hDevice, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1gaa43db625c1bf83b11bac9f91dbf72a38"><span class="std std-ref">IoConfigParameter</span></a> * pParameter, void * pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)</li>
<li>STATICITF_DEF RTS_RESULT <a class="reference internal" href="#group-io-drv-unsafe-bridge-moduletest-itf-1ga761ab3dfea1fc68bedba1d2949e9ebea"><span class="std std-ref">IoDrvWriteParameter</span></a> (RTS_HANDLE hDevice, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1ga1c9f05476fb9e57a5583f645a12956be"><span class="std std-ref">IoConfigConnector</span></a> * pConnector, <a class="reference internal" href="group___cmp_io_mgr_itf.html#group-cmp-io-mgr-itf-1gaa43db625c1bf83b11bac9f91dbf72a38"><span class="std std-ref">IoConfigParameter</span></a> * pParameter, void * pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)</li>
</ul>
</div>
<div class="section" id="detailed-description">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-details"></span><h2>5.2.113.5. Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<p>Interface of IoDrvUnsafeBridgeModuletest.</p>
<p>IO-driver interface implementation for unsafe IO drivers.</p>
<p>This interface file is only used to create module tests for the IoDrvUnsafeBridge implementation.</p>
<p>The IoDrvUnsafeBridge is used for usafe I/O drivers written in C as well as unsafe I/O drivers written in IEC.</p>
<p><strong>Copyright:</strong></p>
<p>Copyright (c) 2017-2018 CODESYS GmbH, Copyright (c) 1994-2016 3S-Smart Software Solutions GmbH. All rights reserved.</p>
</div>
<div class="section" id="macro-definition-documentation">
<h2>5.2.113.6. Macro Definition Documentation<a class="headerlink" href="#macro-definition-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="define-itf-iodrvunsafebridgemoduletest">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga33577801f04168ce9c765c0150f0080e"></span><h3>5.2.113.6.1. #define ITF_IoDrvUnsafeBridgeModuletest<a class="headerlink" href="#define-itf-iodrvunsafebridgemoduletest" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="define-extitf-iodrvunsafebridgemoduletest">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga1ffd1b3704afc2270e3a2b7327bd59ad"></span><h3>5.2.113.6.2. #define EXTITF_IoDrvUnsafeBridgeModuletest<a class="headerlink" href="#define-extitf-iodrvunsafebridgemoduletest" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="typedef-documentation">
<h2>5.2.113.7. Typedef Documentation<a class="headerlink" href="#typedef-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="typedef-iiodrvunsafebridgemoduletest-c-iiodrvunsafebridgemoduletest">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1gad8272e7ba55496b7af814051279059fe"></span><h3>5.2.113.7.1. typedef IIoDrvUnsafeBridgeModuletest_C IIoDrvUnsafeBridgeModuletest<a class="headerlink" href="#typedef-iiodrvunsafebridgemoduletest-c-iiodrvunsafebridgemoduletest" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="function-documentation">
<h2>5.2.113.8. Function Documentation<a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="staticitf-def-rts-handle-iodrvcreate-rts-handle-hiiodrv-classid-classid-int-iid-rts-result-presult">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga47ade8ad65e79bc0200f687e84196fb6"></span><h3>5.2.113.8.1. STATICITF_DEF RTS_HANDLE IoDrvCreate (RTS_HANDLE hIIoDrv, CLASSID ClassId, int iId, RTS_RESULT <a href="#id1"><span class="problematic" id="id2">*</span></a>pResult)<a class="headerlink" href="#staticitf-def-rts-handle-iodrvcreate-rts-handle-hiiodrv-classid-classid-int-iid-rts-result-presult" title="Permalink to this headline">¶</a></h3>
<p>Create a new I/O driver instance.</p>
<p>This function is obsolete, because the instance has to be created by the caller before he registers the I/O driver in the I/O Manager.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="5%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIIoDrv</td>
<td>Handle to the IO-driver interface. Must be 0 and is filled automatically by calling the CAL_IoDrvCreate() macro! RANGE=[RTS_INVALID_HANDLE,VALID_IIODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>ClassId</td>
<td>ClassID of the driver. See &#8220;Class IDs&#8221; section in CmpItf.h or in the Dep.h file of the IO-driver. RANGE=[RTS_RANGE_OF_RTS_UI32]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>iId</td>
<td>Instance number of the IO-driver RANGE=[RTS_I16_MIN,RTS_I16_MIN+1,0,RTS_I16_MAX/2,RTS_I16_MAX]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>pResult</td>
<td>Pointer to error code</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Should return RTS_INVALID_HANDLE</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvdelete-rts-handle-hiodrv-rts-handle-hiiodrv">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga52b68304d7f829d8f27b3260c5c7abb2"></span><h3>5.2.113.8.2. STATICITF_DEF RTS_RESULT IoDrvDelete (RTS_HANDLE hIoDrv, RTS_HANDLE hIIoDrv)<a class="headerlink" href="#staticitf-def-rts-result-iodrvdelete-rts-handle-hiodrv-rts-handle-hiiodrv" title="Permalink to this headline">¶</a></h3>
<p>Delete an I/O driver instance.</p>
<p>This function is obsolete, because the instance has to be deleted by the caller after he unregisters the I/O driver from the I/O Manager.</p>
<p>Delete an IO-driver instance</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>hIIoDrv</td>
<td>Handle of the ITFID_ICmpIoDrv interface RANGE=[RTS_INVALID_HANDLE,VALID_IIODRIVER_HANDLE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvgetinfo-rts-handle-hiodrv-iodrvinfo-ppinfo">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga1fa333efd972b151d113b26a9fbf7bfa"></span><h3>5.2.113.8.3. STATICITF_DEF RTS_RESULT IoDrvGetInfo (RTS_HANDLE hIoDrv, IoDrvInfo <a href="#id3"><span class="problematic" id="id4">**</span></a>ppInfo)<a class="headerlink" href="#staticitf-def-rts-result-iodrvgetinfo-rts-handle-hiodrv-iodrvinfo-ppinfo" title="Permalink to this headline">¶</a></h3>
<p>Get a driver specific info structure.</p>
<p>This structure contains IDs and names of the driver.</p>
<p>In the IoDrvUnsafeBridge implementation, the info structure of the IoDrvUnsafeBridge is returned.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="5%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>ppInfo</td>
<td>Pointer to pointer to the driver info. Pointer must be set by the driver to its internal driver info structure! RANGE=[NULL,VALID_IODRVIERINFO]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>The info structure was returned successfully</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid orppInfo was NULL</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvgetmodulediagnosis-rts-handle-hiodrv-ioconfigconnector-pconnector">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1gaca801830078ea9485613f2491e35575d"></span><h3>5.2.113.8.4. STATICITF_DEF RTS_RESULT IoDrvGetModuleDiagnosis (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id5"><span class="problematic" id="id6">*</span></a>pConnector)<a class="headerlink" href="#staticitf-def-rts-result-iodrvgetmodulediagnosis-rts-handle-hiodrv-ioconfigconnector-pconnector" title="Permalink to this headline">¶</a></h3>
<p>Update Connector Flags in the device tree.</p>
<p>The driver should write the current diagnostic information (available, no driver, bus error,...) with the function IoDrvSetModuleDiagnosis() to the I/O connector.</p>
<p>This function can be used by other components or from the IEC application to update the diagnostic flags of the connector. To update the status from the driver, it has to call this function manually.</p>
<p>The IoDrvUnsafeBridge implementation calls the corresponding unsafe IO driver, which is responsible for the given connector, with the corresponding copied IO configuration via SIL2OEMExecuteNonSafetyJob function and copies the updated flags to the original configuration afterwards.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="15%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector, that the diagostic information is requested RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDrvStub</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bRealIODrvFctFailed</td>
<td><strong>*PSEUDO*</strong> The IoDrvGetModuleDiagnosis function of the real IO driver returned error. RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>The flags have been updated</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or pConnector was NULL</td>
</tr>
<tr class="row-odd"><td>ERR_FAILED</td>
<td>Internal Error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvidentify-rts-handle-hiodrv-ioconfigconnector-pconnector">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga9edcf3040059d39a18629fd4633fd650"></span><h3>5.2.113.8.5. STATICITF_DEF RTS_RESULT IoDrvIdentify (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id7"><span class="problematic" id="id8">*</span></a>pConnector)<a class="headerlink" href="#staticitf-def-rts-result-iodrvidentify-rts-handle-hiodrv-ioconfigconnector-pconnector" title="Permalink to this headline">¶</a></h3>
<p>Identify plugable I/O card or slave.</p>
<p>If the configurator supports scanning of modules, this function can be used our of a communication service to identify a module on the bus or locally on the PLC. This This might be done by a blinking LED or whatever the hardware supports.</p>
<p>This function is not implemented in the IoDrvUnsafeBridge implementation and ERR_NOTIMPLEMENTED is returned.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="15%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector, that should identify itself physically RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvreadinputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga48f414affb4bb84e803e08b48eaa1ea1"></span><h3>5.2.113.8.6. STATICITF_DEF RTS_RESULT IoDrvReadInputs (RTS_HANDLE hIoDrv, IoConfigConnectorMap <a href="#id9"><span class="problematic" id="id10">*</span></a>pConnectorMapList, int nCount)<a class="headerlink" href="#staticitf-def-rts-result-iodrvreadinputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount" title="Permalink to this headline">¶</a></h3>
<p>Read inputs for one task</p>
<p>This function is called cyclically from every task that is using inputs. A part of the task map list, which contains only the data of one connector are passed to the driver (called connector map list).</p>
<p>If a driver has registered one instance to more than one connector, it might get more than one call with a different subset of the task map list.</p>
<p>The I/O driver should read the data from the local hardware or a buffer and write them to the corresponding IEC variables.</p>
<p>The IoDrvUnsafeBridgeImplementation passes this call to the corresponding unsafe io driver with the copied connector list. The inputs are copied to the original configuration afterwards.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="16%" />
<col width="78%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnectorMapList</td>
<td>Pointer to the connector map list RANGE=[NULL,VALID_CONNECTORMAPLIST]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nCount</td>
<td>Number of entries in the connector map list RANGE=[0..CONNECTORMAPLIST_LEN-1]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector in connector map list was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>nContinuousConnectorsA</td>
<td><strong>*PSEUDO*</strong> Number of connectors for stub driver A RANGE=[1,2]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nContinuousConnectorsB</td>
<td><strong>*PSEUDO*</strong> Number of connectors for stub driver B RANGE=[0,2]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>bDriverBCalled</td>
<td><strong>*PSEUDO*</strong> Driver B called. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDrvStub RANGE=[ERR_OK,ERR_FAILED]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>ReadInputs was executed successfully.</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or pConnectorMapList was NULL.</td>
</tr>
<tr class="row-odd"><td>ERR_FAILED</td>
<td>Internal error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvscanmodules-rts-handle-hiodrv-ioconfigconnector-pconnector-ioconfigconnector-ppconnectorlist-int-pncount">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga5f1ba7a16dc1fa5b8f588f1978a47503"></span><h3>5.2.113.8.7. STATICITF_DEF RTS_RESULT IoDrvScanModules (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id11"><span class="problematic" id="id12">*</span></a>pConnector, IoConfigConnector <a href="#id13"><span class="problematic" id="id14">**</span></a>ppConnectorList, int <a href="#id15"><span class="problematic" id="id16">*</span></a>pnCount)<a class="headerlink" href="#staticitf-def-rts-result-iodrvscanmodules-rts-handle-hiodrv-ioconfigconnector-pconnector-ioconfigconnector-ppconnectorlist-int-pncount" title="Permalink to this headline">¶</a></h3>
<p>Scan for submodules of a connector.</p>
<p>This function is executed when the driver is downloaded. It is called over a communication service.</p>
<p>The I/O driver should search for connected subumodules and return them via ppConnectorList.</p>
<p>NOTE: This interface is called synchronously and the buffer for the connector list has to be allocated by the driver.</p>
<p>The buffer might be freed at the next scan or at the next UpdateConfiguration.</p>
<p>The IoDrvUnsafeBridge only forwards the call to the corresponding unsafe IODriver.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="15%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector, which layout should be scanned RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>ppConnectorList</td>
<td>Pointer to the scanned connectors (devices) to return RANGE=[NULL,VALID_SCAN_CONNECTORLIST]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>pnCount</td>
<td>Pointer to the number of entries in the connector list to return RANGE=[0,SIZE_OF_VALID_SCAN_CONNECTORLIST]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bScanSuccessful</td>
<td><strong>*PSEUDO*</strong> IoDrvStub return value for the scan. RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>Scan was executed successfully.</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or one of the other parameters was NULL.</td>
</tr>
<tr class="row-odd"><td>ERR_FAILED</td>
<td>Internal error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvstartbuscycle-rts-handle-hiodrv-ioconfigconnector-pconnector">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga7712716bf87ce241c22958db3aa19bcc"></span><h3>5.2.113.8.8. STATICITF_DEF RTS_RESULT IoDrvStartBusCycle (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id17"><span class="problematic" id="id18">*</span></a>pConnector)<a class="headerlink" href="#staticitf-def-rts-result-iodrvstartbuscycle-rts-handle-hiodrv-ioconfigconnector-pconnector" title="Permalink to this headline">¶</a></h3>
<p>Start bus cycle for a specific connector.</p>
<p>The bus cycle task is defined globally for the whole PLC or locally for a specific I/O connector in the CoDeSys project. This call can be used by the I/O driver to flush the I/O data if it was cached before.</p>
<p>This way we can get a better and consistent timing on the bus. d</p>
<p>Note: This function is called for every connector which has a registered I/O driver and &#8220;needsbuscycle&#8221; set in the device description (this means that it might also be called for children of the connector).</p>
<p>Depending on the device description, this function might be executed at the beginning or at the end of the task cycle.</p>
<p>The IoDrvUnsafeBridgeImplementation passes this call to the corresponding unsafe io driver with the copied connector list.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="15%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector, on which the buscycle must be triggered RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDrvStub</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bRealIODrvFctFailed</td>
<td><strong>*PSEUDO*</strong> The IoDrvStartBusCycle function of the real IO driver returned error. RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>Bus cycle was triggered</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or pConnector NULL</td>
</tr>
<tr class="row-odd"><td>ERR_FAILED</td>
<td>Internal Error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvupdateconfiguration-rts-handle-hiodrv-ioconfigconnector-pconnectorlist-int-ncount">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga56a1f59dfd7963c606c8289edc2c3b8b"></span><h3>5.2.113.8.9. STATICITF_DEF RTS_RESULT IoDrvUpdateConfiguration (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id19"><span class="problematic" id="id20">*</span></a>pConnectorList, int nCount)<a class="headerlink" href="#staticitf-def-rts-result-iodrvupdateconfiguration-rts-handle-hiodrv-ioconfigconnector-pconnectorlist-int-ncount" title="Permalink to this headline">¶</a></h3>
<p>Propagate I/O configuration to the drivers.</p>
<p>This call passes the I/O configuration (based on the configuration tree in the CoDeSys programming system) to all registered I/O drivers. Every driver has the chance to pass this tree and to register itself for a specific connector.</p>
<p>The driver can use the I/O Manager Interface to iterate over the I/O Connectors and to read the I/O Parameters. If it decides to handle the I/Os of one of those connectors, it can register it&#8217;s driver handle (IBase) to the connector in the member hIoDrv.</p>
<p>This function is called when the application is initialized as well as when it is de- or reinitialized. In this case it is called with pConnectorList = NULL.</p>
<p>The implementation of the IoDrvUnsafeBridge copies the io configuration to unsafe memory, unregisteres supported IO drivers from IoMgr and puts them to local administration and calls the IoDrvUpdateConfiguration functions of the supported IO drivers.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="9%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnectorList</td>
<td>Pointer to the complete connector list RANGE=[NULL,CONNECTORLIST_HUGE,CONNECTORLIST_HUGE_PARAMETERLIST,CONNECTORLIST_HUGE_PARAMETERVALUES,CONNECTORLIST_VALID_UNSAFE_PARAMETERVALUES,CONNECTORLIST_VALID]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nCount</td>
<td>Number of entries in the connector list RANGE=[0,CONNECTORLIST_LEN]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bFirstIoDrv</td>
<td><strong>*PSEUDO*</strong> Is IoDrvUnsafeBridge the first registered IO driver RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bInitialized</td>
<td><strong>*PSEUDO*</strong> UpdateConfiguration initialized and connector and parameter lists copied before RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>nIoDrvStub</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector and is a C or IEC driver. RANGE=[NOIODRVSTUB,CIODRVSTUB,IECIODRVSTUB]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bRealIODrvFctFailed</td>
<td><strong>*PSEUDO*</strong> The IoDrvUpdateConfiguration function of the real IO driver returned error. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDriver RANGE=[ERR_OK,ERR_FAILED]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>bParamValuesCopied</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDriver RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>UpdateConfiguration was successfull and found a driver</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or pConnector NULL</td>
</tr>
<tr class="row-odd"><td>ERR_NOMEMORY</td>
<td>Not enought space to copy configuration</td>
</tr>
<tr class="row-even"><td>ERR_FAILED</td>
<td>Internal Error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvupdatemapping-rts-handle-hiodrv-ioconfigtaskmap-ptaskmaplist-int-ncount">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga39e0e4790272987e84b31f6b5fb5d99f"></span><h3>5.2.113.8.10. STATICITF_DEF RTS_RESULT IoDrvUpdateMapping (RTS_HANDLE hIoDrv, IoConfigTaskMap <a href="#id21"><span class="problematic" id="id22">*</span></a>pTaskMapList, int nCount)<a class="headerlink" href="#staticitf-def-rts-result-iodrvupdatemapping-rts-handle-hiodrv-ioconfigtaskmap-ptaskmaplist-int-ncount" title="Permalink to this headline">¶</a></h3>
<p>Propagate the task map lists to the drivers.</p>
<p>This functions gives the drivers a chance to optimize their internal data structures based on the real task map lists. The function is called on every initialization of the application (download, bootproject,...).</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="10%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pTaskMapList</td>
<td>Pointer to the task map list of one task RANGE=[NULL,TASKMAPLIST_HUGE,TASKMAPLIST_HUGE_CONNECTORMAPLIST,TASKMAPLIST_HUGE_CHANNELMAPLIST,TASKMAPLIST_HUGE_IOMEM,TASKMAPLIST_VALID]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nCount</td>
<td>Number of entries in the map list RANGE=[0,TASKMAPLIST_LEN]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bInitialized</td>
<td><strong>*PSEUDO*</strong> UpdateConfiguration initialized and connector and parameter lists copied before RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bRealIODrvFctFailed</td>
<td><strong>*PSEUDO*</strong> The IoDrvUpdateMapping function of the real IO driver returned error. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDriver RANGE=[ERR_OK,ERR_FAILED]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>UpdateMapping successful</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid</td>
</tr>
<tr class="row-odd"><td>ERR_NOMEMORY</td>
<td>Not enought space to copy configuration</td>
</tr>
<tr class="row-even"><td>ERR_FAILED</td>
<td>Internal Error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvwatchdogtrigger-rts-handle-hiodrv-ioconfigconnector-pconnector">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga7abe6c7aa98b08694b5676deb5ff79ab"></span><h3>5.2.113.8.11. STATICITF_DEF RTS_RESULT IoDrvWatchdogTrigger (RTS_HANDLE hIoDrv, IoConfigConnector <a href="#id23"><span class="problematic" id="id24">*</span></a>pConnector)<a class="headerlink" href="#staticitf-def-rts-result-iodrvwatchdogtrigger-rts-handle-hiodrv-ioconfigconnector-pconnector" title="Permalink to this headline">¶</a></h3>
<p>Trigger the hardware watchdog of a driver.</p>
<p>This function is depricated and not used anymore.</p>
<p>This function is not implemented in the IoDrvUnsafeBridge implementation and ERR_NOTIMPLEMENTED is returned.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="15%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector, on which the watchdog should be retriggered RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvwriteoutputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1gae25ad6b1f53f6935b17125d9757aad45"></span><h3>5.2.113.8.12. STATICITF_DEF RTS_RESULT IoDrvWriteOutputs (RTS_HANDLE hIoDrv, IoConfigConnectorMap <a href="#id25"><span class="problematic" id="id26">*</span></a>pConnectorMapList, int nCount)<a class="headerlink" href="#staticitf-def-rts-result-iodrvwriteoutputs-rts-handle-hiodrv-ioconfigconnectormap-pconnectormaplist-int-ncount" title="Permalink to this headline">¶</a></h3>
<p>Write outputs for one task</p>
<p>This function is called cyclically from every task that is using outputs. A part of the task map list, which contains only the data of one connector are passed to the driver (called connector map list).</p>
<p>If a driver has registered one instance to more than one connector, it might get more than one call with a different subset of the task map list.</p>
<p>The I/O driver should write out the data to the local hardware, a buffer or a fieldbus.</p>
<p>The IoDrvUnsafeBridgeImplementation copies the output values to unsafe memory and passes this call to the corresponding unsafe io driver with the copied connector list.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="16%" />
<col width="78%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hIoDrv</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnectorMapList</td>
<td>Pointer to the connector map list RANGE=[NULL,VALID_CONNECTORMAPLIST]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nCount</td>
<td>Number of entries in the connector map list RANGE=[0..CONNECTORMAPLIST_LEN-1]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>bConnectorCopied</td>
<td><strong>*PSEUDO*</strong> Given connector was copied before. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>bIoDrvStubRegistered</td>
<td><strong>*PSEUDO*</strong> Is IoDrvStub registered for this connector in the corresponding copied connector. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>nContinuousConnectorsA</td>
<td><strong>*PSEUDO*</strong> Number of connectors for stub driver A RANGE=[1,2]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>nContinuousConnectorsB</td>
<td><strong>*PSEUDO*</strong> Number of connectors for stub driver B RANGE=[0,2]</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>bDriverBCalled</td>
<td><strong>*PSEUDO*</strong> Driver B called. RANGE=[TRUE,FALSE]</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>IoDrvReturnValue</td>
<td><strong>*PSEUDO*</strong> Return value, which should be returned by called IoDrvStub RANGE=[ERR_OK,ERR_FAILED]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_OK</td>
<td>Outputs successfully written</td>
</tr>
<tr class="row-even"><td>ERR_PARAMETER</td>
<td>hIoDrv was invalid or pConnectorMapList NULL</td>
</tr>
<tr class="row-odd"><td>ERR_FAILED</td>
<td>Internal Error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvreadparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga9c410decb95bdf9ae25ae1bad958cc72"></span><h3>5.2.113.8.13. STATICITF_DEF RTS_RESULT IoDrvReadParameter (RTS_HANDLE hDevice, IoConfigConnector <a href="#id27"><span class="problematic" id="id28">*</span></a>pConnector, IoConfigParameter <a href="#id29"><span class="problematic" id="id30">*</span></a>pParameter, void <a href="#id31"><span class="problematic" id="id32">*</span></a>pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)<a class="headerlink" href="#staticitf-def-rts-result-iodrvreadparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset" title="Permalink to this headline">¶</a></h3>
<p>Read a driver specific parameters.</p>
<p>These parameters can be read by the application, as well as, by an online service, which is triggered from the device configurator plugin in the CoDeSys programming system.</p>
<p>Note: If the I/O driver returns an error, the I/O Manager may try to read the parameter himself</p>
<p>Note2: On SIL2 runtimes, this interface is not supported.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="10%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hDevice</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector (might be determined with IoMgrConfigGetConnector). RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>pParameter</td>
<td>Pointer to the parameter (might be determined with IoMgrConfigGetParameter) RANGE=[NULL,VALID_PARAMETER]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pData</td>
<td>Buffer where the read data is stored RANGE=[NULL,VALID_DATABUFFER]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>ulBitSize</td>
<td>Size of the part of the parameter data, that should be read RANGE=[0..PARAM_SIZE-1]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>ulBitOffset</td>
<td>Offset of the part of the parameter, that should be read RANGE=[0..PARAM_SIZE-1]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticitf-def-rts-result-iodrvwriteparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset">
<span id="group-io-drv-unsafe-bridge-moduletest-itf-1ga761ab3dfea1fc68bedba1d2949e9ebea"></span><h3>5.2.113.8.14. STATICITF_DEF RTS_RESULT IoDrvWriteParameter (RTS_HANDLE hDevice, IoConfigConnector <a href="#id33"><span class="problematic" id="id34">*</span></a>pConnector, IoConfigParameter <a href="#id35"><span class="problematic" id="id36">*</span></a>pParameter, void <a href="#id37"><span class="problematic" id="id38">*</span></a>pData, RTS_SIZE ulBitSize, RTS_SIZE ulBitOffset)<a class="headerlink" href="#staticitf-def-rts-result-iodrvwriteparameter-rts-handle-hdevice-ioconfigconnector-pconnector-ioconfigparameter-pparameter-void-pdata-rts-size-ulbitsize-rts-size-ulbitoffset" title="Permalink to this headline">¶</a></h3>
<p>Write a driver specific parameters.</p>
<p>These parameters can be written by the application, as well as, by an online service, which is triggered from the device configurator plugin in the CoDeSys programming system.</p>
<p>Note: On SIL2 runtimes, this interface is not supported.</p>
<p><strong>Parameters</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="10%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>[in]</td>
<td>hDevice</td>
<td>Handle to the IO-driver instance RANGE=[RTS_INVALID_HANDLE,VALID_IODRIVER_HANDLE]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pConnector</td>
<td>Pointer to the connector (might be determined with IoMgrConfigGetConnector). RANGE=[NULL,VALID_CONNECTOR]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>pParameter</td>
<td>Pointer to the parameter (might be determined with IoMgrConfigGetParameter) RANGE=[NULL,VALID_PARAMETER]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>pData</td>
<td>Buffer where the read data is stored RANGE=[NULL,VALID_DATABUFFER]</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>ulBitSize</td>
<td>Size of the part of the parameter data, that should be written RANGE=[0..PARAM_SIZE-1]</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>ulBitOffset</td>
<td>Offset of the part of the parameter, that should be written RANGE=[0..PARAM_SIZE-1]</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<p>Error code</p>
<p><strong>Return values</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ERR_NOTIMPLEMENTED</td>
<td>Not provided by the driver</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="group___sys_com_itf.html" title="5.2.114. SysComItf"
             >next</a> |</li>
        <li class="right" >
          <a href="group___io_drv_k_n_x_itf.html" title="5.2.112. IoDrvKNXItf"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RuntimeSystemOnlineHelp V3.5.14.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >5. Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, 3S-Smart Software Solutions GmbH.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>
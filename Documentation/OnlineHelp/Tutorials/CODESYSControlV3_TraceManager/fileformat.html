

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Specification of the Memory Format of the Trace File &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/theme.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6.3.7.3. Target Settings for the device description" href="targetsettings.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="targetsettings.html" title="6.3.7.3. Target Settings for the device description"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >6. Tutorials / HowTos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >6.3.7. Trace Manager</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="details.html" accesskey="U">6.3.7.2. Details of the Trace Manager</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="usage.html"
                        title="previous chapter">Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="targetsettings.html"
                        title="next chapter">6.3.7.3. Target Settings for the device description</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="fileformat"></span><div class="section" id="specification-of-the-memory-format-of-the-trace-file">
<span id="index-0"></span><h1>Specification of the Memory Format of the Trace File<a class="headerlink" href="#specification-of-the-memory-format-of-the-trace-file" title="Permalink to this headline">¶</a></h1>
<div class="section" id="trace-packet-of-a-trace-file">
<h2>Trace Packet of a Trace File<a class="headerlink" href="#trace-packet-of-a-trace-file" title="Permalink to this headline">¶</a></h2>
<p>A trace packet can be stored permanently on the runtime system. This
feature can be enabled in the trace packet configuration with the option
“persistent trace”. If this option is selected, the trace configuration
(and the values if available) will be stored in a so-called <em>trace file</em>.</p>
<p>The format of a trace file is CSV to be portable. A trace file can be
uploaded to CODESYS and offline be loaded.</p>
<p>The format consists of a header part and a data part. The header part of
the variables is defined in two columns. The first one is used as “key”,
the second one is used as “value”. The keys are always listed with dot
notation with full path. The structure is in substance similar to the
trace configuration passed from the programming system to the runtime
system. The structure is essentially conform to the trace configuration
as it is transmitted from the programming system to the runtime system.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">key</span><span class="p">];</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
<span class="n">Name</span><span class="p">;</span> <span class="n">TestPacket</span>
<span class="n">Trigger</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Name</span><span class="p">;</span> <span class="n">Counter</span>
<span class="n">Trigger</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">AddrFlags</span><span class="p">;</span> <span class="mh">0x00000000</span>
<span class="n">Trigger</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Class</span><span class="p">;</span> <span class="mi">0</span>
<span class="n">Trigger</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Size</span><span class="p">;</span> <span class="mi">0</span>
<span class="n">Trigger</span><span class="o">.</span><span class="n">Level</span><span class="p">;</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Trace variables require different parameters depending on the address
flags.</p>
<p>TRACE_VAR_ADDRESS_FLAGS_AREA_OFFSET: (Convert IEC Pointer to Area Offset)</p>
<ul class="simple">
<li><p><strong>Name</strong> (string)</p></li>
<li><p><strong>AddrFlags</strong> (hex number)</p></li>
<li><p><strong>Area</strong> (unsigned integer)</p></li>
<li><p><strong>Offset</strong> (hex number)</p></li>
<li><p><strong>Class</strong> (unsigned integer)</p></li>
<li><p><strong>Size</strong> (unsigned integer)</p></li>
</ul>
<p>TRACE_VAR_ADDRESS_FLAGS_POINTER:</p>
<ul class="simple">
<li><p><strong>Name</strong> (string)</p></li>
<li><p><strong>AddrFlags</strong> (hex number)</p></li>
<li><p><strong>Address</strong> (hex number)</p></li>
<li><p><strong>Class</strong> (unsigned integer)</p></li>
<li><p><strong>Size</strong> (unsigned integer)</p></li>
</ul>
<p>TRACE_VAR_ADDRESS_FLAGS_IOCONFIG:</p>
<ul class="simple">
<li><p><strong>Name</strong> (string)</p></li>
<li><p><strong>AddrFlags</strong> (hex number)</p></li>
<li><p><strong>ParameterID</strong> (unsigned integer)</p></li>
<li><p><strong>ModuleType</strong> (unsigned integer)</p></li>
<li><p><strong>Instance</strong> (unsigned integer)</p></li>
<li><p><strong>ByteOffset</strong> (hex number)</p></li>
<li><p><strong>Class</strong> (unsigned integer)</p></li>
<li><p><strong>Size</strong> (unsigned integer)</p></li>
</ul>
<p>TRACE_VAR_ADDRESS_FLAGS_PROPERTY:</p>
<ul class="simple">
<li><p><strong>Name</strong> (string)</p></li>
<li><p><strong>AddrFlags</strong> (hex number)</p></li>
<li><p><strong>Instance.Area</strong> (unsigned integer)</p></li>
<li><p><strong>Instance.Offset</strong> (hex number)</p></li>
<li><p><strong>PropertyFunction.Area</strong> (unsigned integer)</p></li>
<li><p><strong>PropertyFunction.Offset</strong> (hex number)</p></li>
<li><p><strong>Class</strong> (unsigned integer)</p></li>
<li><p><strong>Size</strong> (unsigned integer)</p></li>
</ul>
</div>
<div class="section" id="trace-records-of-a-trace-file">
<h2>Trace Records of a Trace File<a class="headerlink" href="#trace-records-of-a-trace-file" title="Permalink to this headline">¶</a></h2>
<p>The records are numbered from 0 to n and the number is set as prefix
before the name (e.g. „0.Name; Counter“). The header is followed by the data.
In order to avoid redundancy, no further key name is added.</p>
<p>The first entry is a key without value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;.</span><span class="n">Data</span><span class="p">;</span>
</pre></div>
</div>
<p>The values itself consist of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">empty</span> <span class="n">field</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">&lt;</span><span class="n">time</span> <span class="n">stamp</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.</span><span class="n">Data</span><span class="p">;</span>
<span class="p">;</span> <span class="mi">2490</span><span class="p">;</span> <span class="mi">231</span>
<span class="p">;</span> <span class="mi">2500</span><span class="p">;</span> <span class="mi">232</span>
</pre></div>
</div>
<p>Listing of a record with all possible entries (the optional fields are
written <cite>cursive</cite>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[key]; [value]
0.Name; IecTest
ApplicationName; &lt;Name der Applikation&gt;
ApplicationDataGuid; aaaaaaaa-bbbbbbbb-cccccccc-dddddddd
IecTaskName; &lt;Name der IEC Task&gt;
Comment;
Trigger.Variable.Name; &lt;Name der Trigger Variablen&gt;
Trigger.Variable.AddrFlags; 0x00000011
`Trigger.Variable.Area;`
`Trigger.Variable.Offset; 0x00000000`
`Trigger.Variable.Address; 0x00000000`
`Trigger.Variable.ParameterID; 0`
`Trigger.Variable.ModuleType; 0`
`Trigger.Variable.Instance; 0`
`Trigger.Variable.ByteOffset; 0x00000000`
`Trigger.Variable.Instance.Area; 0`
`Trigger.Variable.Instance.Offset; 0x00000000`
`Trigger.Variable.PropertyFunction.Area; 0`
`Trigger.Variable.PropertyFunction.Offset; 0x00000000`
Trigger.Variable.Class; 0
Trigger.Variable.Size; 1
Trigger.Level; 0
Trigger.Flags; 0
Trigger.Edge; 1
Trigger.Position; 0
Condition.Name; (null)
Condition.AddrFlags; 0x00000000
Condition.Class; 0
Condition.Size; 0
EveryNCycles; 1
BufferEntries; 600
Flags; 5

0.Variable; DWORD1
0.Address.AddrFlags; 0x00000011
0.Address.Area; 0
0.Address.Offset; 0x00000000
0.Address.Address; 0x00000000
0.Address.ParameterID; 0
0.Address.ModuleType; 0
0.Address.Instance; 0
0.Address.ByteOffset; 0x00000000
0.Address.Instance.Area; 0
0.Address.Instance.Offset; 0x00000000
0.Address.PropertyFunction.Area; 0
0.Address.PropertyFunction.Offset; 0x00000000
0.Class; 4
0.Size; 4
0.GraphColor; 4278190335
0.MinWarningColor; 0
0.MaxWarningColor; 0
0.CriticalLowerLimit; 0.000000
0.CriticalUpperLimit; 0.000000
0.ActivateMinWarning; 0
0.ActivateMaxWarning; 0
0.YAxis; 0
0.Data;
; 2490; 231
; 2500; 232
; 2510; 233
; 2520; 234
; 2530; 235
; 2540; 236
; 2550; 237
etc.
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="targetsettings.html" title="6.3.7.3. Target Settings for the device description"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >6. Tutorials / HowTos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >6.3.7. Trace Manager</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="details.html" >6.3.7.2. Details of the Trace Manager</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>


<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Extend the Runtime System Component &#8212; RuntimeSystemDocumentation V3.5.16.40</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/theme.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Extend the Runtime System Component with an optional component" href="create_library_optional_libraries.html" />
    <link rel="prev" title="Create a CODESYS Library" href="create_library_create_library.html" /> 
  </head><body>
	<div id="header">
		<a href="#" title="CODESYS" target="_top" id="logo"><img src="../../_static/logo.png" width="134" height="130" alt=""></a>
		<a href="#" title="CODESYS Documentation" target="_top" id="logo-store"><img src="../../_static/logo2.png" width="137" height="130" alt=""></a>
	</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="create_library_optional_libraries.html" title="Extend the Runtime System Component with an optional component"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="create_library_create_library.html" title="Create a CODESYS Library"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >6. Tutorials / HowTos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >6.2.3. Creating Runtime System Components, Libraries and I/O Drivers</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="create_library.html" accesskey="U">6.2.3.4. Create a CODESYS library with external functions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="create_library_create_library.html"
                        title="previous chapter">Create a CODESYS Library</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="create_library_optional_libraries.html"
                        title="next chapter">Extend the Runtime System Component with an optional component</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="extend-the-runtime-system-component">
<span id="create-library-extend-runtime"></span><h1>Extend the Runtime System Component<a class="headerlink" href="#extend-the-runtime-system-component" title="Permalink to this headline">¶</a></h1>
<p>Start with a runtime component as explained in chapter 3.</p>
<p>With the menu command “Generate runtime system files”, an interface file
(Cmp*Ift.m4) is created. It will contain the interface of the library,
mainly the list of exported functions.</p>
<p>This menu command also generates a .c file with empty function
declarations, corresponding to the IEC function interfaces of the
library.</p>
<p>You will edit this file by adding the function implementation in C code,
and by adding the runtime component interface to your C file.</p>
<p>The runtime component frame code is the set of functions common for all
components: These functions are ComponentEntry, CreateInstance,
DeleteInstance, ExportFunctions, ImportFunctions, CmpGetVersion,
HookFunction and QueryInterface. Examples are provided in the delivery,
and you can copy these functions from the CmpTemplate (or other)
component, and adapt the component names.</p>
<p>The menu command also creates a dependency (Cmp*Dep.m4) file. The
dependency file contains the dependencies of your component. These are
component interfaces and functions used from other components. The
dependency file also contains the identification (name, id, and version)
of your component.</p>
<p>With the m4 macro preprocessor, you generate C header files (Cmp*Dep.h
and Cmp*Dep.h) from the interface and dependency files.</p>
<p>You will include these generated C header files in your C source file.
Your C compiler will be used to compile the components C source file.</p>
<p>The compiled component is then added to the runtime system
configuration. Now you can download a CODESYS application calling your C
code functions.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="create_library_optional_libraries.html" title="Extend the Runtime System Component with an optional component"
             >next</a> |</li>
        <li class="right" >
          <a href="create_library_create_library.html" title="Create a CODESYS Library"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">RuntimeSystemDocumentation V3.5.16.40</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >6. Tutorials / HowTos</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >6.2.3. Creating Runtime System Components, Libraries and I/O Drivers</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="create_library.html" >6.2.3.4. Create a CODESYS library with external functions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 3S-Smart Software Solutions GmbH. This document is confidential. Unauthorized copying, disclosure or distribution of this document and the information contained herein is strictly forbidden.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>